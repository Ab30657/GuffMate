{"version":3,"sources":["./src/app/homepage/discover/discover.component.ts","./src/app/homepage/discover/discover.component.html","./src/app/user-profile/user-profile.component.html","./src/app/user-profile/user-profile.component.ts","./src/app/_services/file-upload.service.ts","./src/app/homepage/settings/settings-left/settings-left.component.ts","./src/app/homepage/settings/settings-left/settings-left.component.html","./src/app/_services/tabs.service.ts","./src/app/homepage/messages/messages-left/messages-left.component.ts","./src/app/homepage/messages/messages-left/messages-left.component.html","./src/app/_forms/file-upload/file-upload.component.ts","./src/app/_forms/file-upload/file-upload.component.html","./src/app/_services/account.service.ts","./src/app/_services/friends.service.ts","./src/app/_services/busy.service.ts","./src/app/_models/pagination.ts","./src/environments/environment.ts","./src/app/_interceptors/jwt.interceptor.ts","./src/app/homepage/discover/discover-left/friend-request/friend-request.component.ts","./src/app/homepage/discover/discover-left/friend-request/friend-request.component.html","./src/app/homepage/homepage.component.ts","./src/app/homepage/homepage.component.html","./src/app/_guards/auth.guard.ts","./src/app/_services/message.service.ts","./src/app/user-profile/timeline-event/timeline-event.component.ts","./src/app/user-profile/timeline-event/timeline-event.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/homepage/discover/discover-left/discover-left.component.ts","./src/app/homepage/discover/discover-left/discover-left.component.html","./src/app/homepage/dashboard/dashboard-left/dashboard-left.component.ts","./src/app/homepage/dashboard/dashboard-left/dashboard-left.component.html","./src/app/homepage/dashboard/dashboard.component.html","./src/app/homepage/dashboard/dashboard.component.ts","./src/app/_interceptors/loading.interceptor.ts","./src/app/homepage/messages/messages.component.ts","./src/app/homepage/messages/messages.component.html","./src/app/_services/members.service.ts","./src/app/profile-complete/profile-complete.component.ts","./src/app/profile-complete/profile-complete.component.html","./src/app/gallery-image/gallery-image.component.ts","./src/app/gallery-image/gallery-image.component.html","./src/app/app.module.ts","./src/app/homepage/settings/settings.component.ts","./src/app/homepage/settings/settings.component.html","./src/app/components/ffb-toastr/ffb-toastr.component.ts","./src/app/components/ffb-toastr/ffb-toastr.component.html","./src/app/_forms/text-input/text-input.component.html","./src/app/_forms/text-input/text-input.component.ts","./src/app/nav/nav.component.ts","./src/app/nav/nav.component.html","./src/app/route-transition-animations.ts","./src/app/_services/presence.service.ts","./src/app/_specials/khus/khus.component.ts","./src/app/_specials/khus/khus.component.html","./src/app/_models/userParams.ts","./src/app/_models/friendsParams.ts","./src/app/_guards/login.guard.ts","./src/app/pipes/gallery-image.pipe.ts","./src/app/_services/paginationHelper.ts","./src/app/app-routing.module.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/homepage/discover/user-cards/user-cards.component.ts","./src/app/homepage/discover/user-cards/user-cards.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { ThrowStmt } from '@angular/compiler';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { MembersService } from '../../_services/members.service';\r\nimport { Observable } from 'rxjs';\r\nimport { Member } from 'src/app/_models/member';\r\nimport { IPagination } from '../../_models/pagination';\r\nimport { UserParams } from '../../_models/userParams';\r\nimport { AccountService } from '../../_services/account.service';\r\nimport { take } from 'rxjs/operators';\r\nimport { User } from 'src/app/_models/user';\r\nimport { Friend } from 'src/app/_models/Friend';\r\nimport { FriendsService } from 'src/app/_services/friends.service';\r\n\r\n@Component({\r\n\tselector: 'app-discover',\r\n\ttemplateUrl: './discover.component.html',\r\n\tstyleUrls: ['./discover.component.css'],\r\n})\r\nexport class DiscoverComponent implements OnInit {\r\n\tuser: User;\r\n\tusers: Member[];\r\n\tReceivedRequests: Friend[];\r\n\tpagination: IPagination;\r\n\tuserParams: UserParams;\r\n\tgenderList = [\r\n\t\t{ display: 'Male', value: 'Male' },\r\n\t\t{ display: 'Female', value: 'Female' },\r\n\t\t{ display: 'All', value: '' },\r\n\t];\r\n\r\n\tconstructor(\r\n\t\tprivate friendsService: FriendsService,\r\n\t\tprivate memberService: MembersService,\r\n\t\tprivate accountService: AccountService\r\n\t) {\r\n\t\tthis.userParams = this.memberService.GetUserParams();\r\n\t\tthis.accountService.currentUser$\r\n\t\t\t.pipe(take(1))\r\n\t\t\t.subscribe((x) => (this.user = x));\r\n\t}\r\n\tngOnInit(): void {\r\n\t\tthis.friendsService.friends$.subscribe((x) => {\r\n\t\t\tthis.loadMembers();\r\n\t\t});\r\n\t}\r\n\r\n\tloadMembers() {\r\n\t\tthis.memberService.SetUserParams(this.userParams);\r\n\t\tthis.memberService.GetUsers(this.userParams).subscribe((response) => {\r\n\t\t\tthis.users = response.result;\r\n\t\t\tthis.pagination = response.pagination;\r\n\t\t});\r\n\t}\r\n\r\n\tpageChanged(event: any) {\r\n\t\tthis.userParams.pageNumber = event.page;\r\n\t\tthis.memberService.SetUserParams(this.userParams);\r\n\t\tthis.loadMembers();\r\n\t}\r\n\r\n\tresetFilters() {\r\n\t\tthis.userParams = this.memberService.ResetUserParams();\r\n\t\tthis.loadMembers();\r\n\t}\r\n\r\n\tupdateRequest(username) {\r\n\t\tthis.friendsService.AcceptUserRequest(username).subscribe((x) => {\r\n\t\t\tlet params = this.memberService.GetUserParams();\r\n\t\t\tparams.uptodate = false;\r\n\t\t\tthis.memberService.SetUserParams(params);\r\n\t\t});\r\n\t\tthis.loadMembers();\r\n\t}\r\n}\r\n","<div class=\"users-list-wrap\">\r\n\t<div class=\"loader\">\r\n\t\t<ngx-spinner\r\n\t\t\t[fullScreen]=\"false\"\r\n\t\t\tbdColor=\"rgba(255,255,255,0)\"\r\n\t\t\ttype=\"square-loader\"\r\n\t\t>\r\n\t\t\t<h3>Updating the people around you ;)</h3>\r\n\t\t</ngx-spinner>\r\n\t</div>\r\n\t<div class=\"tab-heading\"><h3>Discover people around you!</h3></div>\r\n\t<div class=\"filter-div w-100\">\r\n\t\t<form\r\n\t\t\t#form=\"ngForm\"\r\n\t\t\tclass=\"form-inline d-flex justify-content-between\"\r\n\t\t\t(ngSubmit)=\"loadMembers()\"\r\n\t\t\tautocomplete=\"off\"\r\n\t\t\taction=\"\"\r\n\t\t>\r\n\t\t\t<div class=\"d-flex justify-content-start\">\r\n\t\t\t\t<label\r\n\t\t\t\t\tclass=\"d-flex justify-content-center align-items-center mr-3\"\r\n\t\t\t\t\t*ngFor=\"let gender of genderList\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tclass=\"option-input radio\"\r\n\t\t\t\t\t\tname=\"gender-filter\"\r\n\t\t\t\t\t\t[value]=\"gender.value\"\r\n\t\t\t\t\t\t[(ngModel)]=\"userParams.gender\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{{ gender.display }}\r\n\t\t\t\t</label>\r\n\t\t\t\t<button class=\"filter-btn\" type=\"submit\">Apply Filters</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"reset-btn filter-btn mx-3\"\r\n\t\t\t\t\t(click)=\"resetFilters()\"\r\n\t\t\t\t>\r\n\t\t\t\t\tReset Filters\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"btn-group d-flex\">\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\tname=\"orderBy\"\r\n\t\t\t\t\t(click)=\"loadMembers()\"\r\n\t\t\t\t\tbtnRadio=\"lastActive\"\r\n\t\t\t\t\t[(ngModel)]=\"userParams.orderBy\"\r\n\t\t\t\t>\r\n\t\t\t\t\tLast Active\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn btn-primary\"\r\n\t\t\t\t\tname=\"orderBy\"\r\n\t\t\t\t\t(click)=\"loadMembers()\"\r\n\t\t\t\t\tbtnRadio=\"alpha\"\r\n\t\t\t\t\t[(ngModel)]=\"userParams.orderBy\"\r\n\t\t\t\t>\r\n\t\t\t\t\tAlphabetical\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n\r\n\t<div class=\"users-list\">\r\n\t\t<app-user-cards\r\n\t\t\t*ngFor=\"let user of users\"\r\n\t\t\t[member]=\"user\"\r\n\t\t\t(RequestStatusChanged)=\"updateRequest($event)\"\r\n\t\t></app-user-cards>\r\n\t</div>\r\n\t<div class=\"paging-div my-5\" *ngIf=\"pagination?.totalItems > 0\">\r\n\t\t<pagination\r\n\t\t\t[boundaryLinks]=\"true\"\r\n\t\t\t[itemsPerPage]=\"pagination.itemsPerPage\"\r\n\t\t\t[totalItems]=\"pagination.totalItems\"\r\n\t\t\t(pageChanged)=\"pageChanged($event)\"\r\n\t\t\tpreviousText=\"&lsaquo;\"\r\n\t\t\tnextText=\"&rsaquo;\"\r\n\t\t\tfirstText=\"&laquo;\"\r\n\t\t\tlastText=\"&raquo;\"\r\n\t\t>\r\n\t\t</pagination>\r\n\t</div>\r\n</div>\r\n","<div class=\"glass\">\r\n\t<!-- <div class=\"intro\">\r\n\t</div> -->\r\n\t<!-- <div class=\"profile-body\" (scroll)=\"scrollHandler($event)\"> -->\r\n\t<div class=\"profile-body\">\r\n\t\t<div class=\"back-btn\" (click)=\"routeBack()\">\r\n\t\t\t<i class=\"fa fa-arrow-left\"></i>\r\n\t\t</div>\r\n\t\t<div class=\"contact\">\r\n\t\t\t<div class=\"contact-wrapper\">\r\n\t\t\t\t<div class=\"profile-pic-wrapper\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\t\tthis.member?.photoUrl ||\r\n\t\t\t\t\t\t\t'../../assets/profilegirl.png'\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"profile-content\">\r\n\t\t\t\t\t<div class=\"profile-card-name\">{{ this.member?.name }}</div>\r\n\t\t\t\t\t<div class=\"profile-card-status\">\r\n\t\t\t\t\t\t{{ this.member?.status }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"contact-details-wrapper\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t*ngIf=\"this.member?.phoneNumber\"\r\n\t\t\t\t\t\tclass=\"phone-number contact-field\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"fa fa-phone\"></i>\r\n\t\t\t\t\t\t<span>{{ this.member?.phoneNumber }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"this.member?.email\" class=\"email contact-field\">\r\n\t\t\t\t\t\t<i class=\"fa fa-mail-forward\"></i>\r\n\t\t\t\t\t\t<span>{{ this.member?.email }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"profile-info-count\">\r\n\t\t\t\t\t<div class=\"count-item\">\r\n\t\t\t\t\t\t<div class=\"count-item-title\">499</div>\r\n\t\t\t\t\t\t<div class=\"count-item-number\">Friends</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"count-item\">\r\n\t\t\t\t\t\t<div class=\"count-item-title\">23</div>\r\n\t\t\t\t\t\t<div class=\"count-item-number\">Followers</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"count-item\">\r\n\t\t\t\t\t\t<div class=\"count-item-title\">7</div>\r\n\t\t\t\t\t\t<div class=\"count-item-number\">Projects</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"count-item\">\r\n\t\t\t\t\t\t<div class=\"count-item-title\">69</div>\r\n\t\t\t\t\t\t<div class=\"count-item-number\">Updates</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"profile-socials\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://www.facebook.com/Ab30657\"\r\n\t\t\t\t\t\tclass=\"profile-card-social-btn facebook\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class=\"icon-font\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-facebook\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://twitter.com/Ab30657\"\r\n\t\t\t\t\t\tclass=\"profile-card-social-btn twitter\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class=\"icon-font\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-twitter\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://www.instagram.com/Ab30657\"\r\n\t\t\t\t\t\tclass=\"profile-card-social-btn instagram\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class=\"icon-font\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-instagram\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://github.com/Ab30657\"\r\n\t\t\t\t\t\tclass=\"profile-card-social-btn github\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class=\"icon-font\">\r\n\t\t\t\t\t\t\t<i class=\"fa fa-github\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"chat-btn-wrapper\">\r\n\t\t\t\t\t<button class=\"chat-btn message\" (click)=\"goToMessages()\">\r\n\t\t\t\t\t\t<i class=\"fa fa-wechat\"></i> Chat with me!\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class=\"chat-btn chat\">\r\n\t\t\t\t\t\t<i class=\"fa fa-mail-forward\"></i>Send a Message\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"body\">\r\n\t\t\t<ul class=\"timeline\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t<div class=\"title-content\">Timeline</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li *ngFor=\"let post of dummyData\">\r\n\t\t\t\t\t<!-- begin timeline-time -->\r\n\t\t\t\t\t<app-timeline-event\r\n\t\t\t\t\t\t[member]=\"this.member\"\r\n\t\t\t\t\t\t[post]=\"post\"\r\n\t\t\t\t\t></app-timeline-event>\r\n\t\t\t\t\t<!-- end timeline-body -->\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<!-- begin timeline-icon -->\r\n\t\t\t\t\t<div class=\"timeline-icon\">\r\n\t\t\t\t\t\t<a href=\"\">&nbsp;</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- end timeline-icon -->\r\n\t\t\t\t\t<!-- begin timeline-body -->\r\n\t\t\t\t\t<div class=\"timeline-body\">Loading...</div>\r\n\t\t\t\t\t<!-- begin timeline-body -->\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Member } from '../_models/member';\r\nimport { MembersService } from '../_services/members.service';\r\nimport { TimeLineEvent } from '../_models/timelineEvent';\r\n\r\n@Component({\r\n\tselector: 'app-user-profile',\r\n\ttemplateUrl: './user-profile.component.html',\r\n\tstyleUrls: ['./user-profile.component.css'],\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n\tmember: Member;\r\n\theight: number = 400;\r\n\theaderShrink: boolean = false;\r\n\tdummyData: TimeLineEvent[] = [\r\n\t\t{\r\n\t\t\tDate: new Date(),\r\n\t\t\tContent:\r\n\t\t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc faucibus turpis quis tincidunt luctus. Nam sagittis dui in nunc consequat, in imperdiet nunc sagittis. ',\r\n\t\t\tShares: 259,\r\n\t\t\tLikedUsers: 4300,\r\n\t\t\tComments: 21,\r\n\t\t},\r\n\t\t{\r\n\t\t\tDate: new Date(-1),\r\n\t\t\tContent: 'Location: United States',\r\n\t\t\tShares: 5,\r\n\t\t\tLikedUsers: 124,\r\n\t\t\tComments: 9,\r\n\t\t},\r\n\t\t{\r\n\t\t\tDate: new Date('2014-02-24'),\r\n\t\t\tContent: `Quisque sed varius nisl. Nulla facilisi.\r\n\t\t\t\t\t\t\t\tPhasellus consequat sapien sit amet nibh\r\n\t\t\t\t\t\t\t\tmolestie placerat. Donec nulla quam, ullamcorper\r\n\t\t\t\t\t\t\t\tut velit vitae, lobortis condimentum magna.\r\n\t\t\t\t\t\t\t\tSuspendisse mollis in sem vel mollis.`,\r\n\t\t\tShares: 46,\r\n\t\t\tLikedUsers: 99,\r\n\t\t\tComments: 23,\r\n\t\t},\r\n\t\t{\r\n\t\t\tDate: new Date('2014-01-10'),\r\n\t\t\tContent: `795 Folsom Ave, Suite 600 San Francisco, CA 94107\r\n\t\t\t\t\t\tIn hac habitasse platea dictumst. Pellentesque\r\n\t\t\t\t\t\tbibendum id sem nec faucibus. Maecenas molestie,\r\n\t\t\t\t\t\taugue vel accumsan rutrum, massa mi rutrum odio,\r\n\t\t\t\t\t\tid luctus mauris nibh ut leo.`,\r\n\t\t\tShares: 26,\r\n\t\t\tLikedUsers: 49,\r\n\t\t\tComments: 13,\r\n\t\t},\r\n\t];\r\n\t// @HostListener('scroll', ['$event'])\r\n\t// scrollHandler(event) {\r\n\t// \tvar scrollAmount = event.target.scrollTop;\r\n\t// \tif (scrollAmount > 400) {\r\n\t// \t\tthis.height = 100;\r\n\t// \t}\r\n\t// \tif (scrollAmount < 400) {\r\n\t// \t\tthis.height = 400 - scrollAmount;\r\n\t// \t\tif (this.height < 100) {\r\n\t// \t\t\tthis.height = 100;\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \t// console.log(this.height);\r\n\t// }\r\n\tconstructor(\r\n\t\tprivate memberService: MembersService,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate router: Router\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.loadMember();\r\n\t}\r\n\r\n\tloadMember() {\r\n\t\tthis.memberService\r\n\t\t\t.GetUser(this.route.snapshot.paramMap.get('username'))\r\n\t\t\t.subscribe((x) => {\r\n\t\t\t\tthis.member = x;\r\n\t\t\t\t// console.log(this.member);\r\n\t\t\t});\r\n\t}\r\n\r\n\trouteBack() {\r\n\t\tthis.router.navigateByUrl('/discover');\r\n\t}\r\n\r\n\tgoToMessages() {\r\n\t\tthis.router.navigateByUrl('/messages/' + this.member.username);\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { config } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class FileUploadService {\n\tbaseUrl = environment.apiUrl;\n\tconstructor(private http: HttpClient) {}\n\n\tUploadInit(file) {\n\t\tconst formData = new FormData();\n\t\tformData.append('file', file, file.name);\n\t\treturn this.http.post(this.baseUrl + 'users/add-photo/', formData);\n\t}\n}\n","import {\r\n\tAfterViewInit,\r\n\tComponent,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tOnInit,\r\n\tOutput,\r\n\tViewChild,\r\n} from '@angular/core';\r\nimport { TabsetComponent } from 'ngx-bootstrap/tabs';\r\nimport { TabsService } from '../../../_services/tabs.service';\r\n\r\n@Component({\r\n\tselector: 'app-settings-left',\r\n\ttemplateUrl: './settings-left.component.html',\r\n\tstyleUrls: ['./settings-left.component.css'],\r\n})\r\nexport class SettingsLeftComponent implements OnInit {\r\n\tactiveTab;\r\n\tconstructor(private tabService: TabsService) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.tabService.currTab.subscribe((x) => {\r\n\t\t\tthis.activeTab = x;\r\n\t\t});\r\n\t}\r\n\r\n\tsetTab(i: string) {\r\n\t\tthis.tabService.setTab(i);\r\n\t}\r\n}\r\n","<div class=\"nav-list\">\r\n\t<a\r\n\t\tclass=\"nav-link\"\r\n\t\t(click)=\"setTab('0')\"\r\n\t\t[ngClass]=\"activeTab == '0' ? 'active' : ''\"\r\n\t>\r\n\t\t<span class=\"nav-name\">General</span>\r\n\t</a>\r\n\t<a\r\n\t\tclass=\"nav-link\"\r\n\t\t(click)=\"setTab('1')\"\r\n\t\t[ngClass]=\"activeTab == '1' ? 'active' : ''\"\r\n\t>\r\n\t\t<span class=\"nav-name\">Gallery</span>\r\n\t</a>\r\n\t<a\r\n\t\tclass=\"nav-link\"\r\n\t\t(click)=\"setTab('2')\"\r\n\t\t[ngClass]=\"activeTab == '2' ? 'active' : ''\"\r\n\t>\r\n\t\t<span class=\"nav-name\">Account</span>\r\n\t</a>\r\n</div>\r\n","import { Injectable } from '@angular/core';\nimport { TabsetComponent } from 'ngx-bootstrap/tabs';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class TabsService {\n\tprivate tab = new BehaviorSubject('0');\n\tcurrTab = this.tab.asObservable();\n\n\tconstructor() {}\n\n\tsetTab(i: string) {\n\t\tthis.tab.next(i);\n\t}\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MembersService } from '../../../_services/members.service';\r\nimport { Friend } from '../../../_models/Friend';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ThisReceiver } from '@angular/compiler';\r\nimport { PresenceService } from '../../../_services/presence.service';\r\nimport { MessageService } from '../../../_services/message.service';\r\nimport { take } from 'rxjs/operators';\r\nimport { AccountService } from 'src/app/_services/account.service';\r\nimport { User } from 'src/app/_models/user';\r\nimport { Message } from 'src/app/_models/message';\r\nimport { FriendsService } from '../../../_services/friends.service';\r\n\r\n@Component({\r\n\tselector: 'app-messages-left',\r\n\ttemplateUrl: './messages-left.component.html',\r\n\tstyleUrls: ['./messages-left.component.css'],\r\n})\r\nexport class MessagesLeftComponent implements OnInit, OnDestroy {\r\n\tfriends: Friend[];\r\n\tuser: User;\r\n\tchatMember: string;\r\n\tconstructor(\r\n\t\tprivate membersService: MembersService,\r\n\t\tprivate messageService: MessageService,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate router: Router,\r\n\t\tpublic presence: PresenceService,\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate friendsService: FriendsService\r\n\t) {\r\n\t\tthis.accountService.currentUser$\r\n\t\t\t.pipe(take(1))\r\n\t\t\t.subscribe((x) => (this.user = x));\r\n\t}\r\n\tngOnDestroy(): void {\r\n\t\tthis.messageService.stopHubConnection();\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.friendsService.getFriends().subscribe((t) => {\r\n\t\t\tthis.friends = t;\r\n\t\t\tthis.chatMember = this.route.snapshot.paramMap.get('username');\r\n\t\t\t// console.log(this.chatMember);\r\n\t\t\tif (this.chatMember == '') {\r\n\t\t\t\tthis.chatMember = this.friends[0].username;\r\n\t\t\t\tthis.router.navigateByUrl(\r\n\t\t\t\t\t'/messages/' + this.friends[0].username\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (this.friends) {\r\n\t\t\t\tthis.messageService.latestMessages$.subscribe((a) => {\r\n\t\t\t\t\ta.forEach((x) => {\r\n\t\t\t\t\t\tthis.friends.find(\r\n\t\t\t\t\t\t\t(chatUser) =>\r\n\t\t\t\t\t\t\t\t(x.senderUsername == chatUser.username &&\r\n\t\t\t\t\t\t\t\t\tx.recipientUsername ==\r\n\t\t\t\t\t\t\t\t\t\tthis.user.username) ||\r\n\t\t\t\t\t\t\t\t(x.senderUsername == this.user.username &&\r\n\t\t\t\t\t\t\t\t\tx.recipientUsername == chatUser.username)\r\n\t\t\t\t\t\t).latestMessage = { ...x };\r\n\t\t\t\t\t\t// console.log(this.friends);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.friends = [...this.friends];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeRoute(username: string) {\r\n\t\tthis.messageService.stopHubConnection();\r\n\t\tthis.router.navigate(['messages', username]);\r\n\t\tthis.chatMember = username;\r\n\t}\r\n}\r\n","<div class=\"heading\">\r\n\t<i class=\"fa fa-mail-reply-all\"></i><span class=\"title\">Messages</span>\r\n</div>\r\n<ng-template [ngIf]=\"!friends || friends.length == 0\">\r\n\tAdd people to start messaging them ;)\r\n</ng-template>\r\n\r\n<ng-template [ngIf]=\"friends\">\r\n\t<div class=\"cards\">\r\n\t\t<div\r\n\t\t\tclass=\"msg-card\"\r\n\t\t\t*ngFor=\"let chat of friends\"\r\n\t\t\t(click)=\"changeRoute(chat.username)\"\r\n\t\t\t[class.active]=\"chat.username === chatMember\"\r\n\t\t>\r\n\t\t\t<div class=\"msg-dp-wrapper\">\r\n\t\t\t\t<div class=\"msg-dp\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclass=\"rounded-circle\"\r\n\t\t\t\t\t\tstyle=\"height: 50px\"\r\n\t\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\t\tchat.photoUrl ||\r\n\t\t\t\t\t\t\t(chat.gender === 'Male'\r\n\t\t\t\t\t\t\t\t? '../assets/profileboy.png'\r\n\t\t\t\t\t\t\t\t: '../assets/profilegirl.png')\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\t[class.is-online]=\"\r\n\t\t\t\t\t\t(presence.onlineUsers$ | async).includes(chat?.username)\r\n\t\t\t\t\t\"\r\n\t\t\t\t\tclass=\"online-presence\"\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- <div class=\"badge\">15</div> -->\r\n\t\t\t<div class=\"chat-content\">\r\n\t\t\t\t<div class=\"card-msg-user\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"msg-user-title\"\r\n\t\t\t\t\t\t[ngStyle]=\"\r\n\t\t\t\t\t\t\tthis.chat?.latestMessage?.DateRead == null\r\n\t\t\t\t\t\t\t\t? { fontWeight: '900' }\r\n\t\t\t\t\t\t\t\t: 'normal'\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>{{ chat.name }}</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"card-latest-msg\" *ngIf=\"!this.chat?.latestMessage\">\r\n\t\t\t\t\tStart a conversation.\r\n\t\t\t\t</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\t*ngIf=\"this.chat?.latestMessage\"\r\n\t\t\t\t\tclass=\"card-latest-msg\"\r\n\t\t\t\t\t[ngStyle]=\"\r\n\t\t\t\t\t\tthis.chat?.latestMessage?.dateRead == null &&\r\n\t\t\t\t\t\tthis.chat?.latestMessage?.senderUsername ==\r\n\t\t\t\t\t\t\tthis.chat?.username\r\n\t\t\t\t\t\t\t? { fontWeight: '900', color: 'red' }\r\n\t\t\t\t\t\t\t: { fontWeight: 'normal', color: 'black' }\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\tthis.chat?.latestMessage &&\r\n\t\t\t\t\t\tthis.chat?.latestMessage?.senderUsername ==\r\n\t\t\t\t\t\t\tthis.user?.username\r\n\t\t\t\t\t\t\t? \"You: \"\r\n\t\t\t\t\t\t\t: (this.chat?.latestMessage?.senderUsername\r\n\t\t\t\t\t\t\t\t\t| titlecase) + \": \"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\tthis.chat?.latestMessage?.isImage\r\n\t\t\t\t\t\t\t? \"Sent an image.\"\r\n\t\t\t\t\t\t\t: this.chat?.latestMessage?.content\r\n\t\t\t\t\t}}</span\r\n\t\t\t\t>\r\n\r\n\t\t\t\t<div class=\"filler\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"chat-time\"\r\n\t\t\t\t[ngStyle]=\"\r\n\t\t\t\t\tthis.chat?.latestMessage?.dateRead == null &&\r\n\t\t\t\t\tthis.chat?.latestMessage?.senderUsername ==\r\n\t\t\t\t\t\tthis.chat?.username\r\n\t\t\t\t\t\t? { fontWeight: '900', color: 'red' }\r\n\t\t\t\t\t\t: { fontWeight: 'normal', color: 'gray' }\r\n\t\t\t\t\"\r\n\t\t\t>\r\n\t\t\t\t<span>{{\r\n\t\t\t\t\tthis.chat?.latestMessage?.messageSent | date: \"shortTime\"\r\n\t\t\t\t}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</ng-template>\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n\tselector: 'app-file-upload',\n\ttemplateUrl: './file-upload.component.html',\n\tstyleUrls: ['./file-upload.component.css'],\n})\nexport class FileUploadComponent implements OnInit {\n\timagePath;\n\t@Output() img = new EventEmitter();\n\tconstructor() {}\n\n\tngOnInit(): void {}\n\n\tonFileSelected(e) {\n\t\tconst files = e.target.files;\n\t\tconst reader = new FileReader();\n\n\t\tif (files && files.length) {\n\t\t\tconst [file] = files;\n\t\t\treader.readAsDataURL(file);\n\n\t\t\treader.onload = () => {\n\t\t\t\tthis.imagePath = reader.result as string;\n\t\t\t};\n\t\t}\n\t\tthis.img.emit({ event: e, imagePath: this.imagePath });\n\t}\n}\n","<input\r\n\ttype=\"file\"\r\n\tclass=\"file-input\"\r\n\taccept=\"image/*\"\r\n\t(change)=\"onFileSelected($event)\"\r\n\t#fileUpload\r\n/>\r\n<div class=\"file-upload\">\r\n\t<button type=\"button\" class=\"upload-btn\" (click)=\"fileUpload.click()\">\r\n\t\t<i class=\"fa fa-lg fa-file-image-o\"></i>Upload Image\r\n\t</button>\r\n</div>\r\n","import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../_models/user';\r\nimport { map } from 'rxjs/operators';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { PresenceService } from './presence.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class AccountService {\r\n\tfullRegisterComplete;\r\n\tbaseUrl = environment.apiUrl;\r\n\tmemberCache = new Map();\r\n\tfriendCache = new Map();\r\n\tprivate currentUserSource = new ReplaySubject<User>(1);\r\n\tcurrentUser$ = this.currentUserSource.asObservable();\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate presence: PresenceService,\r\n\t\tprivate router: Router\r\n\t) {}\r\n\tisFullRegisterComplete() {\r\n\t\treturn this.fullRegisterComplete;\r\n\t}\r\n\tlogin(model: any) {\r\n\t\treturn this.http.post(this.baseUrl + 'account/login', model).pipe(\r\n\t\t\tmap((response: User) => {\r\n\t\t\t\tconst user = response;\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\t// console.log(user);\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(user));\r\n\t\t\t\t\tthis.memberCache = new Map();\r\n\t\t\t\t\tthis.friendCache = new Map();\r\n\t\t\t\t\tthis.currentUserSource.next(user);\r\n\t\t\t\t\tthis.presence.createHubConnection(user);\r\n\t\t\t\t\t// return user;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\tregister(model: any) {\r\n\t\treturn this.http.post(this.baseUrl + 'account/register', model).pipe(\r\n\t\t\tmap((response: User) => {\r\n\t\t\t\tconst user = response;\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(user));\r\n\t\t\t\t\tthis.currentUserSource.next(user);\r\n\t\t\t\t\tthis.presence.createHubConnection(user);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\tsetCurrentUser(user: User) {\r\n\t\tlocalStorage.setItem('user', JSON.stringify(user));\r\n\t\tthis.currentUserSource.next(user);\r\n\t}\r\n\tlogout() {\r\n\t\tthis.presence.stopHubConnection();\r\n\t\tlocalStorage.removeItem('user');\r\n\t\tthis.memberCache = null;\r\n\t\tthis.friendCache = null;\r\n\t\tthis.currentUserSource.next(null);\r\n\t\tthis.router.navigateByUrl('/login');\r\n\t}\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map, take } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Friend } from '../_models/Friend';\r\nimport { FriendsParams } from '../_models/friendsParams';\r\nimport { getPaginatedResult, getPaginationHeaders } from './paginationHelper';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class FriendsService {\r\n\tbaseUrl = environment.apiUrl;\r\n\tprivate friendSource = new BehaviorSubject<Friend[]>([]);\r\n\tfriends$ = this.friendSource.asObservable();\r\n\tfriendsParams: FriendsParams;\r\n\tconstructor(private http: HttpClient) {\r\n\t\tthis.friendsParams = new FriendsParams();\r\n\t}\r\n\r\n\tupdateFriendList(data) {\r\n\t\tthis.friendSource.next(data);\r\n\t\tthis.friends$.subscribe((x: Friend[]) => {});\r\n\t}\r\n\r\n\tAcceptUserRequest(username: string) {\r\n\t\treturn this.http\r\n\t\t\t.put(this.baseUrl + 'friends/received/' + username + '/accept', '')\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(() => {\r\n\t\t\t\t\t// this.friends.splice(\r\n\t\t\t\t\t// \tthis.friends.findIndex((x) => x.username == username),\r\n\t\t\t\t\t// \t1\r\n\t\t\t\t\t// );\r\n\t\t\t\t\tthis.friends$.pipe(take(1)).subscribe((x) => {\r\n\t\t\t\t\t\tx.splice(\r\n\t\t\t\t\t\t\tx.findIndex((a) => a.username == username),\r\n\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconsole.log(x);\r\n\t\t\t\t\t\tthis.friendSource.next([...x]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log([...this.memberCache.values()]);\r\n\t\t\t\t\t// let members = [...this.memberCache.values()].reduce(\r\n\t\t\t\t\t// \t(arr, element) => arr.concat(element.result),\r\n\t\t\t\t\t// \t[]\r\n\t\t\t\t\t// );\r\n\t\t\t\t\t// members.splice(\r\n\t\t\t\t\t// \tmembers.indexOf((x) => x.username === username),\r\n\t\t\t\t\t// \t1\r\n\t\t\t\t\t// );\r\n\t\t\t\t\t// this.GetUser(username).subscribe((x) => {\r\n\t\t\t\t\t// \tlet member: Member = x;\r\n\t\t\t\t\t// \tmember.friendStatus = 2;\r\n\t\t\t\t\t// \tthis.members.push(member);\r\n\t\t\t\t\t// \tthis.memberCache.set(\r\n\t\t\t\t\t// \t\tObject.values(this.userParams).join('-'),\r\n\t\t\t\t\t// \t\tmembers\r\n\t\t\t\t\t// \t);\r\n\t\t\t\t\t// \tconsole.log([...this.memberCache.values()]);\r\n\t\t\t\t\t// });\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t// .pipe(\r\n\t\t// map(() => {\r\n\t\t// this.members.find((x) => x.username).friendStatus = 2;\r\n\t\t// let member:Member = [...this.accountService.friendCache.values()]\r\n\t\t// \t.reduce((arr, elem) => arr.concat(elem.result), [])\r\n\t\t// \t.find((member: Member) => member.username === username);\r\n\t\t// \t})\r\n\t\t// );\r\n\t\t// let friends = [];\r\n\t\t// this.friends$.subscribe(\r\n\t\t// \tfriends => (x.find((x) => x.username == username).status = 2)\r\n\t\t// );\r\n\t\t// this.members.find((x) => x.username == username).friendStatus = 2;\r\n\t\t// console.log(this.members);\r\n\t\t// console.log(this.friends);\r\n\t\t// return of(this.friends.find((x) => x.username));\r\n\t}\r\n\tRejectUserFriend(username: string) {\r\n\t\treturn this.http.put(\r\n\t\t\tthis.baseUrl + 'friends/received/' + username + '/reject',\r\n\t\t\t''\r\n\t\t);\r\n\t}\r\n\tGetFriendsParams() {\r\n\t\treturn this.friendsParams;\r\n\t}\r\n\t//Ideas to combine above two functions into a same function with status property changed for a request\r\n\t// GetUserRequests(userParams: FriendsParams) {\r\n\t// \t// var response = this.accountService.friendCache.get(\r\n\t// \t// \tObject.values(this.friendsParams).join('-')\r\n\t// \t// );\r\n\t// \t// if (response) {\r\n\t// \t// \treturn of(response);\r\n\t// \t// }\r\n\t// \t// console.log(this.friends);\r\n\t// \tlet params = getPaginationHeaders(\r\n\t// \t\tuserParams.pageNumber,\r\n\t// \t\tuserParams.pageSize\r\n\t// \t);\r\n\t// \tparams = params.append('predicate', 'received');\r\n\r\n\t// \treturn getPaginatedResult<Friend[]>(\r\n\t// \t\tthis.baseUrl + 'friends',\r\n\t// \t\tparams,\r\n\t// \t\tthis.http\r\n\t// \t).pipe(\r\n\t// \t\tmap((x) => {\r\n\t// \t\t\tif (x != undefined) {\r\n\t// \t\t\t\tthis.friendSource.next([...x.result]);\r\n\t// \t\t\t}\r\n\t// \t\t})\r\n\t// \t);\r\n\t// \t// \t\t\tthis.friends = x.result;\r\n\t// \t// \t\t\treturn this.friends;\r\n\t// \t// \t\t\t// var requests = [];\r\n\t// \t// \t\t\t// x.result.forEach((x) => {\r\n\t// \t// \t\t\t// \tthis.GetUser(x.username).subscribe((x) => {\r\n\t// \t// \t\t\t// \t\trequests.push(x);\r\n\t// \t// \t\t\t// \t});\r\n\t// \t// \t\t\t// });\r\n\t// \t// \t\t\t// this.accountService.friendCache.set(\r\n\t// \t// \t\t\t// \tObject.values(this.friendsParams).join('-'),\r\n\t// \t// \t\t\t// \trequests\r\n\t// \t// \t\t\t// );\r\n\t// \t// \t\t\t// return requests;\r\n\t// \t// \t\t}\r\n\t// \t// \t})\r\n\t// \t// );\r\n\t// \t// let params = this.getPaginationHeaders(\r\n\t// \t// \tuserParams.pageNumber,\r\n\t// \t// \tuserParams.pageSize\r\n\t// \t// );\r\n\r\n\t// \t// return this.getPaginatedResult<Member[]>(\r\n\t// \t// \tthis.baseUrl + 'users',\r\n\t// \t// \tparams\r\n\t// \t// ).pipe(\r\n\t// \t// \tmap((response) => {\r\n\t// \t// \t\t// console.log(response);\r\n\t// \t// \t\tthis.accountService.memberCache.set(\r\n\t// \t// \t\t\tObject.values(userParams).join('-'),\r\n\t// \t// \t\t\tresponse\r\n\t// \t// \t\t);\r\n\t// \t// \t\tthis.members = response.result;\r\n\t// \t// \t\treturn response;\r\n\t// \t// \t})\r\n\t// \t// );\r\n\t// }\r\n\tgetFriends() {\r\n\t\treturn this.http.get<Friend[]>(\r\n\t\t\tthis.baseUrl + 'friends?predicate=accepted'\r\n\t\t);\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class BusyService {\r\n\tbusyRequestCount = 0;\r\n\r\n\tconstructor(private spinnerService: NgxSpinnerService) {}\r\n\r\n\tbusy() {\r\n\t\tthis.busyRequestCount++;\r\n\t\tthis.spinnerService.show(undefined, {\r\n\t\t\tcolor: '#a594f9',\r\n\t\t\tfullScreen: false,\r\n\t\t\ttype: 'square-loader',\r\n\t\t});\r\n\t}\r\n\r\n\tidle() {\r\n\t\tthis.busyRequestCount--;\r\n\t\tif (this.busyRequestCount <= 0) {\r\n\t\t\tthis.busyRequestCount = 0;\r\n\t\t\tthis.spinnerService.hide();\r\n\t\t}\r\n\t}\r\n}\r\n","export interface IPagination {\r\n\tcurrentPage: number;\r\n\titemsPerPage: number;\r\n\ttotalItems: number;\r\n\ttotalPages: number;\r\n}\r\n\r\nexport class PaginatedResult<T> {\r\n\tresult: T;\r\n\tpagination: IPagination;\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n\tproduction: false,\r\n\tapiUrl: 'https://localhost:5001/api/',\r\n\thubUrl: 'https://localhost:5001/hubs/',\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\nimport {\n\tHttpRequest,\n\tHttpHandler,\n\tHttpEvent,\n\tHttpInterceptor,\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AccountService } from '../_services/account.service';\nimport { User } from '../_models/user';\nimport { take } from 'rxjs/operators';\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n\tconstructor(private accounService: AccountService) {}\n\n\tintercept(\n\t\trequest: HttpRequest<unknown>,\n\t\tnext: HttpHandler\n\t): Observable<HttpEvent<unknown>> {\n\t\tlet currentUser: User;\n\t\tthis.accounService.currentUser$\n\t\t\t.pipe(take(1))\n\t\t\t.subscribe((user) => (currentUser = user));\n\n\t\tif (currentUser) {\n\t\t\trequest = request.clone({\n\t\t\t\tsetHeaders: {\n\t\t\t\t\tAuthorization: `Bearer ${currentUser.token}`,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\treturn next.handle(request);\n\t}\n}\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Friend } from 'src/app/_models/Friend';\r\nimport { Member } from 'src/app/_models/member';\r\nimport { MembersService } from '../../../../_services/members.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-friend-request',\r\n\ttemplateUrl: './friend-request.component.html',\r\n\tstyleUrls: ['./friend-request.component.css'],\r\n})\r\nexport class FriendRequestComponent implements OnInit {\r\n\t@Input() request: Friend;\r\n\t@Output() RequestStatusChanged = new EventEmitter();\r\n\tisActive: boolean = false;\r\n\tconstructor(private memberService: MembersService, private router: Router) {\r\n\t\tthis.router.routeReuseStrategy.shouldReuseRoute = () => false;\r\n\t}\r\n\r\n\tngOnInit(): void {}\r\n\trequestClick() {\r\n\t\tthis.isActive = !this.isActive;\r\n\t}\r\n\tAcceptFriend() {\r\n\t\tthis.RequestStatusChanged.emit(this.request.username);\r\n\t}\r\n\tRejectFriend() {\r\n\t\t// this.memberService\r\n\t\t// \t.RejectUserRequest(this.request.username)\r\n\t\t// \t.subscribe((x) => {\r\n\t\t// \t\tthis.RequestStatusChanged.emit();\r\n\t\t// \t});\r\n\t}\r\n}\r\n","<div class=\"request\" (click)=\"requestClick()\" [class.active]=\"isActive\">\r\n\t<div class=\"side-leaf\"></div>\r\n\t<div class=\"req-dp-wrapper\">\r\n\t\t<div class=\"req-dp\">\r\n\t\t\t<img\r\n\t\t\t\t[src]=\"\r\n\t\t\t\t\trequest.photoUrl ||\r\n\t\t\t\t\t(request.gender == 'Female'\r\n\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\t\"\r\n\t\t\t\tclass=\"rounded-circle\"\r\n\t\t\t\tstyle=\"height: 50px\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"req-info\">\r\n\t\t<h6 class=\"req-name\">{{ request.name }}</h6>\r\n\t\t<span class=\"req-status-info\">A Tech engineer</span>\r\n\t</div>\r\n\t<div class=\"req-icons\">\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-accept\" (click)=\"AcceptFriend()\">\r\n\t\t\t\t<i class=\"fa fa-check\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-deny\" (click)=\"RejectFriend()\">\r\n\t\t\t\t<i class=\"fa fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<!-- <div class=\"request\">\r\n\t<div class=\"req-dp-wrapper\">\r\n\t\t<div class=\"req-dp\">\r\n\t\t\t<img src=\"./assets/profileboy.png\" alt=\"\" />\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"req-info\">\r\n\t\t<h6 class=\"req-name\">Daniel Smith</h6>\r\n\t\t<span class=\"req-status-info\">A Tech engineer</span>\r\n\t</div>\r\n\t<div class=\"req-icons\">\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-accept\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-check\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-deny\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class=\"request\">\r\n\t<div class=\"req-dp-wrapper\">\r\n\t\t<div class=\"req-dp\">\r\n\t\t\t<img src=\"./assets/profileboy.png\" alt=\"\" />\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"req-info\">\r\n\t\t<h6 class=\"req-name\">Daniel Smith</h6>\r\n\t\t<span class=\"req-status-info\">A Tech engineer</span>\r\n\t</div>\r\n\t<div class=\"req-icons\">\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-accept\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-check\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-deny\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div class=\"request\">\r\n\t<div class=\"req-dp-wrapper\">\r\n\t\t<div class=\"req-dp\">\r\n\t\t\t<img src=\"./assets/profileboy.png\" alt=\"\" />\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"req-info\">\r\n\t\t<h6 class=\"req-name\">Daniel Smith</h6>\r\n\t\t<span class=\"req-status-info\">A Tech engineer</span>\r\n\t</div>\r\n\t<div class=\"req-icons\">\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-accept\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-check\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"icon-wrapper\">\r\n\t\t\t<div class=\"req-deny\">\r\n\t\t\t\t<i class=\"fa fa-lg fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div> -->\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-homepage',\r\n\ttemplateUrl: './homepage.component.html',\r\n\tstyleUrls: ['./homepage.component.css'],\r\n\thost: {\r\n\t\tclass: 'dboard',\r\n\t},\r\n})\r\nexport class HomepageComponent implements OnInit {\r\n\tconstructor() {}\r\n\r\n\tngOnInit(): void {}\r\n}\r\n","<div class=\"glass\">\r\n\t<div class=\"homepage\">\r\n\t\t<div class=\"homepage-wrapper\">\r\n\t\t\t<app-nav></app-nav>\r\n\t\t\t<div class=\"homepage-content\">\r\n\t\t\t\t<!-- <div class=\"user\">\r\n\t\t\t\t\t<img src=\"./assets/profileboy.png\" alt=\"\" />\r\n\t\t\t\t\t<h4>Teresa Nightingale</h4>\r\n\t\t\t\t\t<p>Pro Member</p>\r\n\t\t\t\t</div> -->\r\n\t\t\t\t<div class=\"card-wrapper\">\r\n\t\t\t\t\t<!-- <app-messages-left></app-messages-left> -->\r\n\t\t\t\t\t<router-outlet name=\"left\"></router-outlet>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- <div class=\"pro\">\r\n\t\t\t\t\t<h4>Download Desktop Client</h4>\r\n\t\t\t\t</div> -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"content\">\r\n\t\t<router-outlet name=\"right\"></router-outlet>\r\n\t\t<!-- <app-messages></app-messages> -->\r\n\t</div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n\tActivatedRouteSnapshot,\r\n\tCanActivate,\r\n\tRouter,\r\n\tRouterStateSnapshot,\r\n\tUrlTree,\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AccountService } from '../_services/account.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate router: Router\r\n\t) {}\r\n\tcanActivate(\r\n\t\troute: ActivatedRouteSnapshot,\r\n\t\tstate: RouterStateSnapshot\r\n\t): Observable<boolean> {\r\n\t\treturn this.accountService.currentUser$.pipe(\r\n\t\t\tmap((user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.router.navigateByUrl('/login');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t//else YOU SHALL NOT PASS!\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { getPaginationHeaders, getPaginatedResult } from './paginationHelper';\r\nimport { Message } from '../_models/message';\r\nimport { HubConnection, HubConnectionBuilder } from '@microsoft/signalr';\r\nimport { User } from '../_models/user';\r\nimport { BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\r\nimport { map, take } from 'rxjs/operators';\r\nimport { BusyService } from './busy.service';\r\nimport { Group } from '../_models/group';\r\nimport { PresenceService } from './presence.service';\r\nimport { convertUpdateArguments } from '@angular/compiler/src/compiler_util/expression_converter';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class MessageService {\r\n\tbaseUrl = environment.apiUrl;\r\n\thubUrl = environment.hubUrl;\r\n\r\n\tprivate hubConnection: HubConnection;\r\n\r\n\tprivate messageThreadSource = new BehaviorSubject<Message[]>([]);\r\n\tmessageThread$ = this.messageThreadSource.asObservable();\r\n\tprivate isTypingSource = new ReplaySubject<boolean>(1);\r\n\tisTyping$ = this.isTypingSource.asObservable();\r\n\r\n\tprivate latestMessagesSource = new BehaviorSubject<Message[]>([]);\r\n\tlatestMessages$ = this.latestMessagesSource.asObservable();\r\n\r\n\tconstructor(private http: HttpClient, private busyService: BusyService) {}\r\n\r\n\tcreateHubConnection(user: User, otherUsername: string) {\r\n\t\t// this.busyService.busy();\r\n\t\tthis.hubConnection = new HubConnectionBuilder()\r\n\t\t\t.withUrl(this.hubUrl + 'message?user=' + otherUsername, {\r\n\t\t\t\taccessTokenFactory: () => user.token,\r\n\t\t\t})\r\n\t\t\t.withAutomaticReconnect()\r\n\t\t\t.build();\r\n\t\tthis.hubConnection.start().catch((x) => console.log(x));\r\n\t\t// .finally(() => this.busyService.idle);\r\n\t\tthis.hubConnection.on('ReceiveMessageThread', (messages: Message[]) => {\r\n\t\t\tthis.messageThreadSource.next(messages);\r\n\t\t\tif (messages != null && messages.length != 0) {\r\n\t\t\t\tthis.latestMessages$.pipe(take(1)).subscribe((msgs) => {\r\n\t\t\t\t\tif (msgs != null && msgs.length != 0) {\r\n\t\t\t\t\t\tlet x = msgs.find(\r\n\t\t\t\t\t\t\t(a) =>\r\n\t\t\t\t\t\t\t\ta.senderUsername == otherUsername ||\r\n\t\t\t\t\t\t\t\ta.senderUsername == otherUsername\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (x != null && x != undefined) {\r\n\t\t\t\t\t\t\tx.dateRead = new Date(Date.now());\r\n\t\t\t\t\t\t\t// console.log([...msgs]);\r\n\t\t\t\t\t\t\tthis.latestMessagesSource.next([...msgs]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('NewMessage', (message: Message) => {\r\n\t\t\tthis.messageThread$.pipe(take(1)).subscribe((messages) => {\r\n\t\t\t\tthis.messageThreadSource.next([...messages, message]);\r\n\t\t\t});\r\n\t\t\tthis.updateLatestMessages(message);\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('TypingNewMessage', (isTyping) => {\r\n\t\t\tthis.isTypingSource.next(isTyping);\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('UpdatedGroup', (group: Group) => {\r\n\t\t\tif (group.connections.some((x) => x.username === otherUsername)) {\r\n\t\t\t\tthis.messageThread$.pipe(take(1)).subscribe((x) => {\r\n\t\t\t\t\tx.forEach((a) => {\r\n\t\t\t\t\t\tif (!a.dateRead) {\r\n\t\t\t\t\t\t\ta.dateRead = new Date(Date.now());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.messageThreadSource.next([...x]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.hubConnection.on('UpdateLatestMessages', (messages: Message[]) => {\r\n\t\t\tmessages = messages.filter((x) => x != null);\r\n\t\t\t// console.log(messages);\r\n\t\t\tthis.latestMessagesSource.next([...messages]);\r\n\t\t});\r\n\t}\r\n\tupdateLatestMessages(message: Message) {\r\n\t\tthis.latestMessages$.pipe(take(1)).subscribe((messages) => {\r\n\t\t\tvar msg = messages.find(\r\n\t\t\t\t(x) =>\r\n\t\t\t\t\t(x.senderUsername == message.senderUsername &&\r\n\t\t\t\t\t\tx.recipientUsername == message.recipientUsername) ||\r\n\t\t\t\t\t(x.senderUsername == message.recipientUsername &&\r\n\t\t\t\t\t\tx.recipientUsername == message.senderUsername)\r\n\t\t\t);\r\n\t\t\tif (msg != null) {\r\n\t\t\t\tmessages.splice(messages.indexOf(msg), 1);\r\n\t\t\t}\r\n\t\t\tthis.latestMessagesSource.next([...messages, message]);\r\n\t\t});\r\n\t}\r\n\tstopHubConnection() {\r\n\t\tif (this.hubConnection) {\r\n\t\t\tthis.messageThreadSource.next([]);\r\n\t\t\tthis.hubConnection.stop();\r\n\t\t}\r\n\t}\r\n\ttypingMessage(isTyping: boolean, otherUsername: string) {\r\n\t\treturn this.hubConnection\r\n\t\t\t.invoke('EnteringMessage', otherUsername, isTyping)\r\n\t\t\t.catch((x) => console.log(x));\r\n\t}\r\n\tgetMessages(pageNumber, pageSize, container) {\r\n\t\tlet params = getPaginationHeaders(pageNumber, pageSize);\r\n\t\tparams = params.append('Container', container);\r\n\t\treturn getPaginatedResult<Message[]>(\r\n\t\t\tthis.baseUrl + 'messages',\r\n\t\t\tparams,\r\n\t\t\tthis.http\r\n\t\t);\r\n\t}\r\n\r\n\t// getMessageThread(username: string) {\r\n\t// \treturn this.http.get<Message[]>(\r\n\t// \t\tthis.baseUrl + 'messages/thread/' + username\r\n\t// \t);\r\n\t// }\r\n\r\n\tsendMessage(\r\n\t\tusername: string,\r\n\t\tcontent: string,\r\n\t\tisImage: boolean,\r\n\t\timageUrl: string\r\n\t) {\r\n\t\treturn this.hubConnection\r\n\t\t\t.invoke('SendMessage', {\r\n\t\t\t\trecipientUsername: username,\r\n\t\t\t\tcontent,\r\n\t\t\t\tisImage,\r\n\t\t\t\timageUrl,\r\n\t\t\t})\r\n\t\t\t.catch((error) => console.log(error));\r\n\t}\r\n\r\n\tsendImage(file: File) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('file', file, file.name);\r\n\t\treturn this.http.post(this.baseUrl + 'messages/upload/', formData);\r\n\t}\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Member } from 'src/app/_models/member';\r\nimport { TimeLineEvent } from 'src/app/_models/timelineEvent';\r\nimport { MembersService } from '../../_services/members.service';\r\n\r\n@Component({\r\n\tselector: 'app-timeline-event',\r\n\ttemplateUrl: './timeline-event.component.html',\r\n\tstyleUrls: ['./timeline-event.component.css'],\r\n})\r\nexport class TimelineEventComponent implements OnInit {\r\n\t@Input() member: Member;\r\n\t@Input() post: TimeLineEvent;\r\n\tcommentShow: boolean = true;\r\n\tconstructor(private memberService: MembersService) {}\r\n\r\n\tngOnInit(): void {}\r\n}\r\n","<div class=\"timeline-time\">\r\n\t<span class=\"date\">{{ (post.Date | date) || \"today\" }}</span>\r\n\t<span class=\"time\">04:20</span>\r\n</div>\r\n<!-- end timeline-time -->\r\n<!-- begin timeline-icon -->\r\n<div class=\"timeline-icon\">\r\n\t<a href=\"\">&nbsp;</a>\r\n</div>\r\n<!-- end timeline-icon -->\r\n<!-- begin timeline-body -->\r\n<div class=\"timeline-body\">\r\n\t<div class=\"timeline-header\">\r\n\t\t<span class=\"userimage\"\r\n\t\t\t><img\r\n\t\t\t\t[src]=\"\r\n\t\t\t\t\t!member.photoUrl && member.gender == 'Female'\r\n\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t: './assets/profileboy.png'\r\n\t\t\t\t\"\r\n\t\t\t\talt=\"\"\r\n\t\t/></span>\r\n\t\t<span class=\"username\"\r\n\t\t\t><a href=\"\">{{ this.member.name }}</a> <small></small\r\n\t\t></span>\r\n\t</div>\r\n\t<div class=\"timeline-content\">\r\n\t\t<p>\r\n\t\t\t{{ post.Content }}\r\n\t\t</p>\r\n\t</div>\r\n\t<div class=\"timeline-likes\">\r\n\t\t<div class=\"stats-right\">\r\n\t\t\t<span class=\"stats-text\">{{ post.Shares || 0 }} Shares</span>\r\n\t\t\t<span class=\"stats-text\">{{ post.Comments || 0 }} Comments</span>\r\n\t\t</div>\r\n\t\t<div class=\"stats\">\r\n\t\t\t<span class=\"fa-stack fa-fw stats-icon\">\r\n\t\t\t\t<i class=\"fa fa-circle fa-stack-2x text-danger\"></i>\r\n\t\t\t\t<i class=\"fa fa-heart fa-stack-1x fa-inverse t-plus-1\"></i>\r\n\t\t\t</span>\r\n\t\t\t<span class=\"fa-stack fa-fw stats-icon\">\r\n\t\t\t\t<i class=\"fa fa-circle fa-stack-2x text-primary\"></i>\r\n\t\t\t\t<i class=\"fa fa-thumbs-up fa-stack-1x fa-inverse\"></i>\r\n\t\t\t</span>\r\n\t\t\t<span class=\"stats-total\">{{ post.LikedUsers || 0 }}</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"timeline-footer\">\r\n\t\t<a class=\"m-r-15 text-inverse-lighter like-btn\"\r\n\t\t\t><i class=\"fa fa-thumbs-up fa-fw fa-lg m-r-3\"></i> Like</a\r\n\t\t>\r\n\t\t<a\r\n\t\t\tclass=\"m-r-15 text-inverse-lighter toggle-comment-btn\"\r\n\t\t\t(click)=\"commentShow = !commentShow\"\r\n\t\t\t><i class=\"fa fa-comments fa-fw fa-lg m-r-3\"></i> Comment</a\r\n\t\t>\r\n\t\t<a class=\"m-r-15 text-inverse-lighter share-btn\"\r\n\t\t\t><i class=\"fa fa-share fa-fw fa-lg m-r-3\"></i> Share</a\r\n\t\t>\r\n\t</div>\r\n\t<div class=\"timeline-comment-box\" [hidden]=\"commentShow\">\r\n\t\t<div class=\"user\">\r\n\t\t\t<img [src]=\"this.member?.photoUrl\" />\r\n\t\t</div>\r\n\t\t<div class=\"input\">\r\n\t\t\t<form action=\"\">\r\n\t\t\t\t<div class=\"input-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclass=\"form-control rounded-corner\"\r\n\t\t\t\t\t\tplaceholder=\"Write a comment...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span class=\"input-group-append p-l-10\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"comment-btn btn f-s-12 rounded-corner\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tComment\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { User } from './_models/user';\r\nimport { AccountService } from './_services/account.service';\r\nimport { routeTransitionAnimations } from './route-transition-animations';\r\nimport { PresenceService } from './_services/presence.service';\r\n\r\n@Component({\r\n\tselector: 'app-root',\r\n\ttemplateUrl: './app.component.html',\r\n\tstyleUrls: ['./app.component.css'],\r\n\tanimations: [routeTransitionAnimations],\r\n})\r\nexport class AppComponent implements OnInit {\r\n\ttitle = 'client';\r\n\t/**\r\n\t *\r\n\t */\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate presence: PresenceService\r\n\t) {}\r\n\tngOnInit(): void {\r\n\t\tthis.setCurrentUser();\r\n\t}\r\n\r\n\tsetCurrentUser() {\r\n\t\tconst user: User = JSON.parse(localStorage.getItem('user'));\r\n\t\t// if (user) {\r\n\t\tthis.accountService.setCurrentUser(user);\r\n\t\tthis.presence.createHubConnection(user);\r\n\t\t// }\r\n\t}\r\n\r\n\tprepareRoute(outlet: RouterOutlet) {\r\n\t\treturn (\r\n\t\t\toutlet &&\r\n\t\t\toutlet.activatedRouteData &&\r\n\t\t\toutlet.activatedRouteData['animationState']\r\n\t\t);\r\n\t}\r\n}\r\n","<main [@triggerName]=\"prepareRoute(outlet)\">\n\t<router-outlet #outlet=\"outlet\"></router-outlet>\n</main>\n<div class=\"circle1\"></div>\n<div class=\"circle2\"></div>\n","import { Component, OnInit } from '@angular/core';\r\nimport { FriendsService } from 'src/app/_services/friends.service';\r\nimport { FriendRequestComponent } from './friend-request/friend-request.component';\r\nimport { UserParams } from '../../../_models/userParams';\r\nimport { Friend } from 'src/app/_models/Friend';\r\nimport { FriendsParams } from '../../../_models/friendsParams';\r\nimport { Member } from 'src/app/_models/member';\r\nimport { Observable } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { PresenceService } from '../../../_services/presence.service';\r\nimport { AccountService } from '../../../_services/account.service';\r\nimport { User } from 'src/app/_models/user';\r\nimport { take } from 'rxjs/operators';\r\nimport { MembersService } from '../../../_services/members.service';\r\n@Component({\r\n\tselector: 'app-discover-left',\r\n\ttemplateUrl: './discover-left.component.html',\r\n\tstyleUrls: ['./discover-left.component.css'],\r\n})\r\nexport class DiscoverLeftComponent implements OnInit {\r\n\t// Friends$: Observable<Friend[]>;\r\n\tfriendsParams: FriendsParams;\r\n\tuser: User;\r\n\tconstructor(\r\n\t\tpublic friendsService: FriendsService,\r\n\t\tpublic accountService: AccountService,\r\n\t\tpublic memberService: MembersService\r\n\t) {\r\n\t\tthis.accountService.currentUser$\r\n\t\t\t.pipe(take(1))\r\n\t\t\t.subscribe((x) => (this.user = x));\r\n\t\t// this.friendsParams = this.friendsService.GetFriendsParams();\r\n\t}\r\n\tngOnInit(): void {\r\n\t\tthis.friendsService.friends$.subscribe();\r\n\t\tthis.ReloadList();\r\n\t}\r\n\tReloadList() {\r\n\t\t// this.Friends$ = this.friendsService.friends$;\r\n\t\t// this.friendsService\r\n\t\t// \t.GetUserRequests(this.friendsParams)\r\n\t\t// \t.subscribe(() => {});\r\n\t\t// this.friendsService\r\n\t\t// \t.GetUserRequests(this.friendsParams)\r\n\t\t// \t.subscribe((a) =>\r\n\t\t// \t\tthis.friendsService.friends$.subscribe((x) => console.log(x))\r\n\t\t// \t);\r\n\t}\r\n\tUpdateRequest(username) {\r\n\t\tthis.friendsService.AcceptUserRequest(username).subscribe((x) => {\r\n\t\t\t// this.ReloadList();\r\n\t\t\tlet params = this.memberService.GetUserParams();\r\n\t\t\tparams.uptodate = false;\r\n\t\t\tthis.memberService.SetUserParams(params);\r\n\t\t});\r\n\t}\r\n}\r\n","<div class=\"heading\">\r\n\t<i class=\"fa fa-user-plus\"></i><span class=\"title\"> Friend Requests</span>\r\n</div>\r\n<div class=\"wrapper\">\r\n\t<app-friend-request\r\n\t\t*ngFor=\"let item of this.friendsService.friends$ | async\"\r\n\t\t[request]=\"item\"\r\n\t\t(RequestStatusChanged)=\"UpdateRequest($event)\"\r\n\t></app-friend-request>\r\n</div>\r\n<!-- Might have to remove this component useless piece of shit -->\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dashboard-left',\r\n  templateUrl: './dashboard-left.component.html',\r\n  styleUrls: ['./dashboard-left.component.css']\r\n})\r\nexport class DashboardLeftComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"div text-center font-weight-bold\">Recent Activity</div>\r\n<div id=\"timeline-content\">\r\n\t<ul class=\"timeline\">\r\n\t\t<li class=\"event\">\r\n\t\t\t<h3>@khus</h3>\r\n\t\t\t<p>Accepted your friend request</p>\r\n\t\t</li>\r\n\t\t<li class=\"event\">\r\n\t\t\t<h3>@khus</h3>\r\n\t\t\t<p>Sent you greetings!</p>\r\n\t\t</li>\r\n\t\t<li class=\"event\">\r\n\t\t\t<h3>@pratik</h3>\r\n\t\t\t<p>Sent you a friend request</p>\r\n\t\t</li>\r\n\r\n\t\t<li class=\"event\">\r\n\t\t\t<h3>@pratik</h3>\r\n\r\n\t\t\t<p>\"I am freaking genius!\" 📣</p>\r\n\t\t\t<p>\r\n\t\t\t\tWhen we say <em><strong>geniuses</strong></em> we mean it— and\r\n\t\t\t\tyou'll should include me as well.\r\n\t\t\t</p>\r\n\t\t</li>\r\n\t</ul>\r\n</div>\r\n","<div class=\"dashboard-stats\">\r\n\t<div class=\"heading\">Dashboard</div>\r\n\t<div class=\"stats-wrapper\">\r\n\t\t<div class=\"friends stats-item\">\r\n\t\t\t<div class=\"icon\"><i class=\"fa fa-users\"></i></div>\r\n\t\t\t<div class=\"number\">\r\n\t\t\t\t{{ this.friends }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">Friends</div>\r\n\t\t</div>\r\n\t\t<div class=\"followers stats-item\">\r\n\t\t\t<div class=\"icon\"><i class=\"fa fa-user-secret\"></i></div>\r\n\t\t\t<div class=\"number\">999</div>\r\n\t\t\t<div class=\"title\">Followers</div>\r\n\t\t</div>\r\n\t\t<div class=\"projects stats-item\">\r\n\t\t\t<div class=\"icon\"><i class=\"fa fa-book\"></i></div>\r\n\t\t\t<div class=\"number\">12</div>\r\n\t\t\t<div class=\"title\">Projects</div>\r\n\t\t</div>\r\n\t\t<div class=\"messages stats-item\">\r\n\t\t\t<div class=\"icon\"><i class=\"fa fa-comments\"></i></div>\r\n\t\t\t<div class=\"number\">{{ this.messages?.length }}</div>\r\n\t\t\t<div class=\"title\">New Messages</div>\r\n\t\t</div>\r\n\t\t<div class=\"hours stats-item\">\r\n\t\t\t<div class=\"icon\"><i class=\"fa fa-user-plus\"></i></div>\r\n\t\t\t<div class=\"number\">\r\n\t\t\t\t{{ (this.friendsService.friends$ | async).length }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">Friend Requests</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"open-projects\">\r\n\t\t<div class=\"heading\">Open Projects</div>\r\n\t\t<div class=\"projects-list\">\r\n\t\t\t<div class=\"project-1 project-item\">\r\n\t\t\t\t<img src=\"https://wallpapercave.com/wp/wp5252334.jpg\" />\r\n\t\t\t\t<div class=\"heading\">Ronitian</div>\r\n\t\t\t\t<div class=\"body\">This is body for a project</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"project-2 project-item\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://getwallpapers.com/wallpaper/full/a/5/a/544882.jpg\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div class=\"heading\">Marianity</div>\r\n\t\t\t\t<div class=\"body\">This is body for aproject</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"project-3 project-item\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://getwallpapers.com/wallpaper/full/a/0/6/545242.jpg\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div class=\"heading\">Kycilius</div>\r\n\t\t\t\t<div class=\"body\">This is body for a project</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"inbox\">\r\n\t\t<div class=\"heading\">Messages</div>\r\n\t\t<div class=\"loading\">\r\n\t\t\t<ngx-spinner\r\n\t\t\t\t[fullScreen]=\"false\"\r\n\t\t\t\tbdColor=\"rgba(255,255,255,1)\"\r\n\t\t\t\ttype=\"square-loader\"\r\n\t\t\t\tcolor=\"white\"\r\n\t\t\t>\r\n\t\t\t\t<h3>Loading...</h3>\r\n\t\t\t</ngx-spinner>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\tclass=\"message-item\"\r\n\t\t\t*ngFor=\"let message of messages\"\r\n\t\t\trouterLink=\"/messages/{{ message.senderUsername }}\"\r\n\t\t>\r\n\t\t\t<div class=\"sender-dp\">\r\n\t\t\t\t<img [src]=\"message.senderPhotoUrl\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"sender\">@{{ message?.senderUsername }}</div>\r\n\t\t\t<div class=\"message\">{{ message?.content }}</div>\r\n\t\t\t<div class=\"time\">{{ message?.messageSent | timeago }}</div>\r\n\t\t\t<div class=\"tools\">\r\n\t\t\t\t<div class=\"tool-wrapper\"><i class=\"fa fa-trash\"></i></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- <div class=\"message-2 message-item\">\r\n\t\t\t<div class=\"sender-dp\">\r\n\t\t\t\t<img src=\"https://wallpapercave.com/wp/wp5252334.jpg\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"sender\">Pratik Silwal</div>\r\n\t\t\t<div class=\"message\">This is a simple message!</div>\r\n\t\t\t<div class=\"time\">1:59</div>\r\n\t\t\t<div class=\"tools\">\r\n\t\t\t\t<i class=\"fa fa-trash\"></i>\r\n\t\t\t</div>\r\n\t\t</div> -->\r\n\t</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Message } from 'src/app/_models/message';\r\nimport { FriendsService } from '../../_services/friends.service';\r\nimport { MembersService } from '../../_services/members.service';\r\nimport { MessageService } from '../../_services/message.service';\r\n\r\n@Component({\r\n\tselector: 'app-dashboard',\r\n\ttemplateUrl: './dashboard.component.html',\r\n\tstyleUrls: ['./dashboard.component.css'],\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\tloading: boolean;\r\n\tmessages: Message[];\r\n\tfriends: number;\r\n\tconstructor(\r\n\t\tpublic friendsService: FriendsService,\r\n\t\tprivate memberService: MembersService,\r\n\t\tpublic messageService: MessageService\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.friendsService.getFriends().subscribe((x) => {\r\n\t\t\tthis.friends = x.length;\r\n\t\t});\r\n\t\tthis.messageService.getMessages(1, 5, 'Inbox').subscribe((response) => {\r\n\t\t\tthis.messages = response.result;\r\n\t\t\tthis.loading = false;\r\n\t\t\t// console.log(this.messages);\r\n\t\t});\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n\tHttpRequest,\r\n\tHttpHandler,\r\n\tHttpEvent,\r\n\tHttpInterceptor,\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { BusyService } from '../_services/busy.service';\r\nimport { delay, finalize } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class LoadingInterceptor implements HttpInterceptor {\r\n\tconstructor(private busyService: BusyService) {}\r\n\r\n\tintercept(\r\n\t\trequest: HttpRequest<unknown>,\r\n\t\tnext: HttpHandler\r\n\t): Observable<HttpEvent<unknown>> {\r\n\t\tthis.busyService.busy();\r\n\t\treturn next.handle(request).pipe(\r\n\t\t\tfinalize(() => {\r\n\t\t\t\tthis.busyService.idle();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n","import {\r\n\tChangeDetectionStrategy,\r\n\tChangeDetectorRef,\r\n\tComponent,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tViewChild,\r\n} from '@angular/core';\r\nimport { MembersService } from '../../_services/members.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Member } from 'src/app/_models/member';\r\nimport { Message } from 'src/app/_models/message';\r\nimport { MessageService } from '../../_services/message.service';\r\nimport { IPagination } from 'src/app/_models/pagination';\r\nimport { NgForm } from '@angular/forms';\r\nimport { PresenceService } from '../../_services/presence.service';\r\nimport { AccountService } from '../../_services/account.service';\r\nimport { User } from 'src/app/_models/user';\r\nimport { take } from 'rxjs/operators';\r\nimport { AfterViewInit } from '@angular/core';\r\nimport { Emoji } from '@ctrl/ngx-emoji-mart/ngx-emoji';\r\n\r\n@Component({\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tselector: 'app-messages',\r\n\ttemplateUrl: './messages.component.html',\r\n\tstyleUrls: ['./messages.component.css'],\r\n})\r\nexport class MessagesComponent implements OnInit, OnDestroy {\r\n\t@ViewChild('messageForm') messageForm: NgForm;\r\n\r\n\tpublic isEmojiPickerVisible: boolean;\r\n\r\n\tchatMember: Member;\r\n\tmessages: Message[];\r\n\tpageNumber = 1;\r\n\tpageSize = 5;\r\n\tcontainer = 'Unread';\r\n\tpagination: IPagination;\r\n\tmessageContent: string;\r\n\tuser: User;\r\n\tScrollContainer: HTMLElement;\r\n\tisImage: boolean;\r\n\tmsgFile: File;\r\n\tconstructor(\r\n\t\tprivate cdref: ChangeDetectorRef,\r\n\t\tprivate memberService: MembersService,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tpublic messageService: MessageService,\r\n\t\tpublic presence: PresenceService,\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate router: Router\r\n\t) {\r\n\t\tthis.accountService.currentUser$\r\n\t\t\t.pipe(take(1))\r\n\t\t\t.subscribe((x) => (this.user = x));\r\n\t}\r\n\tngOnDestroy(): void {\r\n\t\tthis.messageService.stopHubConnection();\r\n\t}\r\n\tngAfterContentChecked() {\r\n\t\tthis.cdref.detectChanges();\r\n\t}\r\n\tngOnInit(): void {\r\n\t\tthis.route.params.subscribe((x) => {\r\n\t\t\tlet username = x.username;\r\n\t\t\tif (username) {\r\n\t\t\t\tthis.memberService.GetUser(username).subscribe((x) => {\r\n\t\t\t\t\tthis.chatMember = x;\r\n\t\t\t\t\t// console.log(x);\r\n\t\t\t\t});\r\n\t\t\t\tthis.messageService.createHubConnection(this.user, username);\r\n\t\t\t\t// this.messageService.latestMessages$.subscribe((x) => {\r\n\t\t\t\t// \tx.find(\r\n\t\t\t\t// \t\t(a) =>\r\n\t\t\t\t// \t\t\ta.senderUsername == this.chatMember.username ||\r\n\t\t\t\t// \t\t\ta.recipientUsername == this.chatMember.username\r\n\t\t\t\t// \t).dateRead = new Date(Date.now());\r\n\t\t\t\t// });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tloadMessages() {\r\n\t\t//Get latest unread messages for all users present in the paginated list ------------Add feature later\r\n\t\t// this.messageService\r\n\t\t// \t.getMessageThread(this.chatMember.username)\r\n\t\t// \t.subscribe((x) => {\r\n\t\t// \t\tthis.messages = x;\r\n\t\t// \t});\r\n\t}\r\n\r\n\t// pageChanged(event: any) {\r\n\t// \tthis.pageNumber = event.page;\r\n\t// \tthis.loadMessages();\r\n\t// }\r\n\ttypingMessage(isTyping: boolean) {\r\n\t\tthis.messageService.typingMessage(isTyping, this.chatMember.username);\r\n\t}\r\n\tsendMessage() {\r\n\t\tif (this.msgFile) {\r\n\t\t\tthis.messageService.sendImage(this.msgFile).subscribe((x: any) => {\r\n\t\t\t\t// console.log(x);\r\n\r\n\t\t\t\tthis.messageService\r\n\t\t\t\t\t.sendMessage(\r\n\t\t\t\t\t\tthis.chatMember.username,\r\n\t\t\t\t\t\tthis.messageContent,\r\n\t\t\t\t\t\tthis.isImage,\r\n\t\t\t\t\t\tx.url\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.isEmojiPickerVisible = false;\r\n\t\t\t\t\t\tthis.messageForm.reset();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.messageService\r\n\t\t\t\t.sendMessage(\r\n\t\t\t\t\tthis.chatMember.username,\r\n\t\t\t\t\tthis.messageContent,\r\n\t\t\t\t\tthis.isImage,\r\n\t\t\t\t\tnull\r\n\t\t\t\t)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.isEmojiPickerVisible = false;\r\n\t\t\t\t\tthis.messageForm.reset();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\taddEmoji(event) {\r\n\t\tvar emoji: Emoji;\r\n\t\tthis.messageContent == null\r\n\t\t\t? (this.messageContent = event.emoji.native)\r\n\t\t\t: (this.messageContent += event.emoji.native);\r\n\t\tevent.event$.stopPropagation();\r\n\t}\r\n\r\n\tonFileSelected(event) {\r\n\t\tconst file: File = event.target.files[0];\r\n\t\tthis.isImage = file ? true : false;\r\n\t\tthis.msgFile = file;\r\n\t\t// console.log(file);\r\n\t}\r\n}\r\n","<div class=\"content\">\r\n\t<ng-template [ngIf]=\"this.chatMember\">\r\n\t\t<div class=\"chat-title\">\r\n\t\t\t<header class=\"chat-header\">\r\n\t\t\t\t<img\r\n\t\t\t\t\t[class.is-online]=\"\r\n\t\t\t\t\t\t(presence.onlineUsers$ | async).includes(\r\n\t\t\t\t\t\t\tchatMember?.username\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\"\r\n\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\tthis.chatMember?.photoUrl ||\r\n\t\t\t\t\t\t(this.chatMember?.gender == 'Female'\r\n\t\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\t\t\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tclass=\"chat-avatar\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div class=\"chat-header-info\">\r\n\t\t\t\t\t<h3 class=\"chat-username\">\r\n\t\t\t\t\t\t{{ chatMember?.name }}\r\n\t\t\t\t\t\t<span class=\"chat-username-label\"\r\n\t\t\t\t\t\t\t>@{{ chatMember?.username }}</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<span class=\"chat-status\">\r\n\t\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t(presence.onlineUsers$ | async).includes(\r\n\t\t\t\t\t\t\t\t\tchatMember?.username\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>Online Now</ng-container\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\tchatMember &&\r\n\t\t\t\t\t\t\t\t!(presence.onlineUsers$ | async).includes(\r\n\t\t\t\t\t\t\t\t\tchatMember?.username\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>{{ chatMember?.lastActive | timeago }}\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\tclass=\"messages\"\r\n\t\t\tid=\"chat\"\r\n\t\t\t#scroller\r\n\t\t\t[scrollTop]=\"scroller.scrollHeight\"\r\n\t\t>\r\n\t\t\t<div class=\"loading\">\r\n\t\t\t\t<ngx-spinner\r\n\t\t\t\t\t[fullScreen]=\"false\"\r\n\t\t\t\t\tbdColor=\"rgba(255,255,255,1)\"\r\n\t\t\t\t\ttype=\"square-loader\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<h3></h3>\r\n\t\t\t\t</ngx-spinner>\r\n\t\t\t</div>\r\n\t\t\t<ng-container\r\n\t\t\t\t*ngIf=\"\r\n\t\t\t\t\tthis.chatMember &&\r\n\t\t\t\t\t(messageService.messageThread$ | async)?.length > 0\r\n\t\t\t\t\"\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\t#scroller\r\n\t\t\t\t\t[scrollTop]=\"scroller.height\"\r\n\t\t\t\t\t*ngFor=\"\r\n\t\t\t\t\t\tlet message of messageService.messageThread$ | async\r\n\t\t\t\t\t\"\r\n\t\t\t\t\tclass=\"message-line\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"agent-face\"\r\n\t\t\t\t\t\t*ngIf=\"message.senderUsername == chatMember?.username\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclass=\"agent circle\"\r\n\t\t\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\t\t\tthis.chatMember.photoUrl ||\r\n\t\t\t\t\t\t\t\t(this.chatMember.gender == 'Female'\r\n\t\t\t\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"message-wrapper\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"message\"\r\n\t\t\t\t\t\t\t[ngClass]=\"\r\n\t\t\t\t\t\t\t\tmessage.senderUsername != chatMember?.username\r\n\t\t\t\t\t\t\t\t\t? 'sender-msg'\r\n\t\t\t\t\t\t\t\t\t: 'receiver-msg'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ng-template [ngIf]=\"message.isImage\">\r\n\t\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclass=\"image-message\"\r\n\t\t\t\t\t\t\t\t\t\t[src]=\"message.imageUrl\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<figcaption>\r\n\t\t\t\t\t\t\t\t\t\t{{ message.content }}\r\n\t\t\t\t\t\t\t\t\t</figcaption>\r\n\t\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t<ng-template [ngIf]=\"!message.isImage\">{{\r\n\t\t\t\t\t\t\t\tmessage.content\r\n\t\t\t\t\t\t\t}}</ng-template>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"message-time\"\r\n\t\t\t\t\t\t\t\t[style]=\"\r\n\t\t\t\t\t\t\t\t\tmessage.senderUsername !==\r\n\t\t\t\t\t\t\t\t\tchatMember?.username\r\n\t\t\t\t\t\t\t\t\t\t? 'left: 1.25rem;\tcolor: #ddd;'\r\n\t\t\t\t\t\t\t\t\t\t: 'right:1.25rem; color:#555'\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ message.messageSent | date: \"shortTime\" }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t\tmessage.senderUsername !==\r\n\t\t\t\t\t\t\t\t\tchatMember?.username\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\tclass=\"message-read\"\r\n\t\t\t\t\t\t\t\t[style]=\"'right:0.5rem; color:#ddd'\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"fa\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"\r\n\t\t\t\t\t\t\t\t\t\t!message.dateRead\r\n\t\t\t\t\t\t\t\t\t\t\t? 'fa-check-circle-o'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'fa-check-circle'\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-check-circle\"\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"message.dateRead\"\r\n\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"message-line typing-indicator\"\r\n\t\t\t\t\t*ngIf=\"messageService.isTyping$ | async\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"agent-face\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclass=\"agent circle\"\r\n\t\t\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\t\t\tthis.chatMember.photoUrl ||\r\n\t\t\t\t\t\t\t\t(this.chatMember.gender == 'Female'\r\n\t\t\t\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"message-wrapper\">\r\n\t\t\t\t\t\t<div class=\"message receiver-msg\">\r\n\t\t\t\t\t\t\t<div class=\"ticontainer\">\r\n\t\t\t\t\t\t\t\t<div class=\"tiblock\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"tidot\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"tidot\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"tidot\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t\t<form\r\n\t\t\t#messageForm=\"ngForm\"\r\n\t\t\t(ngSubmit)=\"sendMessage()\"\r\n\t\t\tautocomplete=\"off\"\r\n\t\t\tclass=\"type-message-bar\"\r\n\t\t>\r\n\t\t\t<button type=\"button\" class=\"text-tools img-upload\">\r\n\t\t\t\t<i class=\"fa fa-camera\"></i>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\tid=\"photo\"\r\n\t\t\t\t\tname=\"photo\"\r\n\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t(change)=\"onFileSelected($event)\"\r\n\t\t\t\t\t#fileUpload\r\n\t\t\t\t/>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"text-tools\">\r\n\t\t\t\t<emoji-mart\r\n\t\t\t\t\t[style]=\"{\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tbottom: '40px',\r\n\t\t\t\t\t\tleft: '-50px',\r\n\t\t\t\t\t\tzIndex: '100'\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\tclass=\"emoji-mart\"\r\n\t\t\t\t\tset=\"apple\"\r\n\t\t\t\t\t*ngIf=\"isEmojiPickerVisible\"\r\n\t\t\t\t\t(emojiSelect)=\"addEmoji($event)\"\r\n\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t></emoji-mart>\r\n\t\t\t\t<i\r\n\t\t\t\t\t(click)=\"isEmojiPickerVisible = !isEmojiPickerVisible\"\r\n\t\t\t\t\tclass=\"fa fa-smile-o\"\r\n\t\t\t\t></i>\r\n\t\t\t</button>\r\n\t\t\t<button type=\"button\" class=\"text-tools\">\r\n\t\t\t\t<i class=\"fa fa-microphone\"></i>\r\n\t\t\t</button>\r\n\t\t\t<input\r\n\t\t\t\t(focus)=\"typingMessage(true)\"\r\n\t\t\t\t(blur)=\"typingMessage(false)\"\r\n\t\t\t\tname=\"messageContent\"\r\n\t\t\t\trequired\r\n\t\t\t\t[(ngModel)]=\"messageContent\"\r\n\t\t\t\tplaceholder=\"Type your message here!\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\trows=\"0\"\r\n\t\t\t/>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"send-btn\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\t[disabled]=\"!messageForm.valid\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"fa fa-paper-plane\"></i>\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t</ng-template>\r\n</div>\r\n","import { UserParams } from './../_models/userParams';\r\nimport { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable, ReplaySubject, BehaviorSubject } from 'rxjs';\r\nimport { Member } from '../_models/member';\r\nimport { of } from 'rxjs';\r\nimport { map, take, tap } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\nimport { AccountService } from './account.service';\r\nimport { User } from '../_models/user';\r\nimport { Friend, RequestStatus } from '../_models/Friend';\r\nimport { FriendsParams } from '../_models/friendsParams';\r\nimport { getPaginatedResult, getPaginationHeaders } from './paginationHelper';\r\nimport { HubConnection, HubConnectionBuilder } from '@microsoft/signalr';\r\nimport { PresenceService } from './presence.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class MembersService {\r\n\tbaseUrl = environment.apiUrl;\r\n\tmembers: Member[] = [];\r\n\tmemberCache = new Map();\r\n\tuser: User;\r\n\tuserParams: UserParams;\r\n\tprivate hubConnection: HubConnection;\r\n\thubUrl = environment.hubUrl;\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate accountService: AccountService\r\n\t) {\r\n\t\tthis.accountService.currentUser$.pipe(take(1)).subscribe((user) => {\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.userParams = new UserParams();\r\n\t\t\t// console.log(this.user);\r\n\t\t});\r\n\t}\r\n\r\n\tGetUserParams() {\r\n\t\treturn this.userParams;\r\n\t}\r\n\tSetUserParams(params: UserParams) {\r\n\t\tthis.userParams = params;\r\n\t}\r\n\tResetUserParams() {\r\n\t\tthis.userParams = new UserParams();\r\n\t\treturn this.userParams;\r\n\t}\r\n\tGetUsers(userParams: UserParams) {\r\n\t\t// if (userParams.uptodate) {\r\n\t\t// \tvar response = this.memberCache.get(\r\n\t\t// \t\tObject.values(userParams).join('-')\r\n\t\t// \t);\r\n\t\t// \tif (response) {\r\n\t\t// \t\treturn of(response);\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tlet params = getPaginationHeaders(\r\n\t\t\tuserParams.pageNumber,\r\n\t\t\tuserParams.pageSize\r\n\t\t);\r\n\t\tparams = params.append('gender', userParams.gender);\r\n\t\tparams = params.append('orderBy', userParams.orderBy);\r\n\r\n\t\treturn getPaginatedResult<Member[]>(\r\n\t\t\tthis.baseUrl + 'users',\r\n\t\t\tparams,\r\n\t\t\tthis.http\r\n\t\t).pipe(\r\n\t\t\tmap((response) => {\r\n\t\t\t\t// console.log(response);\r\n\t\t\t\tthis.memberCache.set(\r\n\t\t\t\t\tObject.values(userParams).join('-'),\r\n\t\t\t\t\tresponse\r\n\t\t\t\t);\r\n\t\t\t\tthis.members = response.result;\r\n\t\t\t\tuserParams.uptodate = true;\r\n\t\t\t\treturn response;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\tGetUser(username: string) {\r\n\t\tconst member = [...this.memberCache.values()]\r\n\t\t\t.reduce((arr, element) => arr.concat(element.result), [])\r\n\t\t\t.find((member: Member) => member.username === username);\r\n\t\tif (member) return of(member);\r\n\t\treturn this.http.get<Member>(this.baseUrl + 'users/' + username);\r\n\t}\r\n\r\n\tsetMainPhoto(photoId: number) {\r\n\t\treturn this.http.put(\r\n\t\t\tthis.baseUrl + 'users/set-main-photo/' + photoId,\r\n\t\t\t{}\r\n\t\t);\r\n\t}\r\n\tdeleteMainPhoto() {\r\n\t\treturn this.http.put(this.baseUrl + 'users/remove-main-photo/', {});\r\n\t}\r\n\tupdate(profileCompleteForm) {\r\n\t\treturn this.http\r\n\t\t\t.put(this.baseUrl + 'users', profileCompleteForm.value)\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(() => {\r\n\t\t\t\t\tconst index = this.members.indexOf(\r\n\t\t\t\t\t\tprofileCompleteForm.value\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.members[index] = profileCompleteForm.value;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\tsendEmailVerification() {\r\n\t\treturn this.http.get(this.baseUrl + 'users/verify-email');\r\n\t}\r\n\r\n\tcheckEmailVerification(code) {\r\n\t\treturn this.http.put(this.baseUrl + 'users/verify-email/check', {\r\n\t\t\tcode,\r\n\t\t});\r\n\t}\r\n\r\n\t// sendSmsVerification() {\r\n\t// \treturn this.http.get(this.baseUrl + 'users/verify-phone');\r\n\t// }\r\n\r\n\t// checkSmsVerification(code) {\r\n\t// \treturn this.http.post(this.baseUrl + 'users/verify-phone/check', {\r\n\t// \t\tcode,\r\n\t// \t});\r\n\t// }\r\n\tremoveEmailAuth() {\r\n\t\treturn this.http.put(this.baseUrl + 'users/verify-email/delete', {});\r\n\t}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport {\r\n\tModalDismissReasons,\r\n\tNgbActiveModal,\r\n\tNgbModal,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n\tbase64ToFile,\r\n\tImageCroppedEvent,\r\n\tLoadedImage,\r\n} from 'ngx-image-cropper';\r\nimport { AccountService } from '../_services/account.service';\r\nimport { Member } from '../_models/member';\r\nimport { take, finalize } from 'rxjs/operators';\r\nimport { User } from '../_models/user';\r\nimport { MembersService } from '../_services/members.service';\r\nimport { FileUploadService } from '../_services/file-upload.service';\r\nimport { Photo } from '../_models/photo';\r\nimport { Router } from '@angular/router';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Component({\r\n\tselector: 'app-profile-complete',\r\n\ttemplateUrl: './profile-complete.component.html',\r\n\tstyleUrls: ['./profile-complete.component.css'],\r\n\tproviders: [NgbActiveModal],\r\n})\r\nexport class ProfileCompleteComponent implements OnInit {\r\n\tsavedImage;\r\n\tmember: Member;\r\n\tuser: User;\r\n\tregisterCompleteForm;\r\n\tinterest;\r\n\tinterestList: string[];\r\n\tcloseModal;\r\n\topenModal;\r\n\tgenders = ['Male', 'Female', 'Other'];\r\n\timageChangedEvent = '';\r\n\tImageList$ = new BehaviorSubject([]);\r\n\r\n\tconstructor(\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate modalService: NgbModal,\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate memberService: MembersService,\r\n\t\tprivate fileUploadService: FileUploadService,\r\n\t\tprivate router: Router\r\n\t) {\r\n\t\tthis.accountService.currentUser$.pipe(take(1)).subscribe((x) => {\r\n\t\t\tthis.user = x;\r\n\t\t});\r\n\t}\r\n\tngOnInit(): void {\r\n\t\tthis.initRegisterCompleteForm();\r\n\t\tthis.loadMember();\r\n\t}\r\n\tprivate initRegisterCompleteForm() {\r\n\t\tthis.registerCompleteForm = this.fb.group({\r\n\t\t\tgender: ['', [Validators.required]],\r\n\t\t\tstatus: ['', [Validators.maxLength(75)]],\r\n\t\t\tinterests: [''],\r\n\t\t\tphoneNumber: [''],\r\n\t\t});\r\n\t}\r\n\tloadMember() {\r\n\t\tthis.memberService.GetUser(this.user.username).subscribe((x) => {\r\n\t\t\t// console.log(x);\r\n\t\t\tthis.member = x;\r\n\t\t\tthis.registerCompleteForm.setValue({\r\n\t\t\t\tgender: this.member.gender,\r\n\t\t\t\tstatus: this.member.status,\r\n\t\t\t\tinterests: '',\r\n\t\t\t\tphoneNumber: this.member.phoneNumber,\r\n\t\t\t});\r\n\t\t\tthis.interestList = this.member.interests\r\n\t\t\t\t? this.member.interests.map((x) => x.title)\r\n\t\t\t\t: [];\r\n\t\t\tthis.savedImage = this.member.photoUrl;\r\n\t\t\tthis.ImageList$.next(\r\n\t\t\t\tthis.member.photos.filter((x) => !x.isMain).slice(0, 8)\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tSaveChanges() {\r\n\t\tthis.user.gender = this.registerCompleteForm.value.gender;\r\n\t\tthis.accountService.setCurrentUser(this.user);\r\n\t\t// console.log(this.interestList);\r\n\t\tthis.registerCompleteForm.controls['interests'].setValue(\r\n\t\t\tthis.interestList\r\n\t\t);\r\n\t\t// console.log(this.interestList);\r\n\t\tthis.memberService.update(this.registerCompleteForm).subscribe(() => {\r\n\t\t\tthis.router.navigateByUrl('/discover');\r\n\t\t});\r\n\t}\r\n\t//Interest addition and removal\r\n\taddInterest() {\r\n\t\tthis.interestList.push(this.interest.trim());\r\n\t\tthis.interest = '';\r\n\t}\r\n\tremoveInterest(interest) {\r\n\t\tthis.interestList = this.interestList.filter((x) => x !== interest);\r\n\t}\r\n\t//\r\n\t// Modal Functions\r\n\ttriggerModal(content) {\r\n\t\tthis.openModal = this.modalService.open(content, {\r\n\t\t\tariaLabelledBy: 'modal-basic-title',\r\n\t\t});\r\n\t\tthis.openModal.result.then(\r\n\t\t\t(res) => {\r\n\t\t\t\tthis.closeModal = `Closed with: ${res}`;\r\n\t\t\t},\r\n\t\t\t(res) => {\r\n\t\t\t\tthis.closeModal = `Dismissed ${this.getDismissReason(res)}`;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate getDismissReason(reason: any): string {\r\n\t\tif (reason === ModalDismissReasons.ESC) {\r\n\t\t\treturn 'by pressing ESC';\r\n\t\t} else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n\t\t\treturn 'by clicking on a backdrop';\r\n\t\t} else {\r\n\t\t\treturn `with: ${reason}`;\r\n\t\t}\r\n\t}\r\n\t//\r\n\r\n\tSetOldPhoto(photo: Photo) {\r\n\t\tthis.memberService.setMainPhoto(photo.id).subscribe(() => {\r\n\t\t\tthis.savedImage = photo.url;\r\n\t\t\tthis.user.photoUrl = photo.url;\r\n\t\t\tthis.accountService.setCurrentUser(this.user);\r\n\t\t\tthis.member.photoUrl = photo.url;\r\n\t\t\tthis.member.photos.forEach((x) => {\r\n\t\t\t\tif (x.isMain) x.isMain = false;\r\n\t\t\t\tif (x.id == photo.id) photo.isMain = true;\r\n\t\t\t});\r\n\t\t\tthis.ImageList$.next(\r\n\t\t\t\tthis.member.photos.filter((x) => !x.isMain).slice(0, 8)\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t//Image cropper\r\n\tonImageChanged(e, photoEditor) {\r\n\t\tthis.imageChangedEvent = e.event;\r\n\t\tthis.triggerModal(photoEditor);\r\n\t}\r\n\timageCropped(event: ImageCroppedEvent) {\r\n\t\tthis.savedImage = base64ToFile(event.base64);\r\n\t}\r\n\r\n\timageLoaded(image: LoadedImage) {}\r\n\tcropperReady() {}\r\n\tloadImageFailed() {\r\n\t\t// console.log('Not found');\r\n\t}\r\n\t//\r\n\r\n\tintializeUpload() {\r\n\t\tthis.fileUploadService\r\n\t\t\t.UploadInit(this.savedImage)\r\n\t\t\t.pipe(\r\n\t\t\t\tfinalize(() => {\r\n\t\t\t\t\tthis.openModal.close();\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe((photo: Photo) => {\r\n\t\t\t\t// console.log('here');\r\n\t\t\t\tthis.member.photos.push(photo);\r\n\t\t\t\tthis.memberService.setMainPhoto(photo.id).subscribe(() => {\r\n\t\t\t\t\tthis.savedImage = photo.url;\r\n\t\t\t\t\tthis.user.photoUrl = photo.url;\r\n\t\t\t\t\tthis.accountService.setCurrentUser(this.user);\r\n\t\t\t\t\tthis.member.photoUrl = photo.url;\r\n\t\t\t\t\tthis.member.photos.forEach((x) => {\r\n\t\t\t\t\t\tif (x.isMain) x.isMain = false;\r\n\t\t\t\t\t\tif (x.id == photo.id) photo.isMain = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.ImageList$.next(\r\n\t\t\t\t\t\tthis.member.photos.filter((x) => !x.isMain).slice(0, 8)\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tremoveImage() {\r\n\t\tthis.memberService.deleteMainPhoto().subscribe(() => {\r\n\t\t\tthis.savedImage = null;\r\n\t\t\tthis.user.photoUrl = null;\r\n\t\t\tthis.accountService.setCurrentUser(this.user);\r\n\t\t\tthis.member.photoUrl = null;\r\n\t\t\tthis.member.photos.find((x) => x.isMain).isMain = false;\r\n\t\t\tthis.ImageList$.next(\r\n\t\t\t\tthis.member.photos.filter((x) => !x.isMain).slice(0, 8)\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tsendEmail() {\r\n\t\tthis.memberService.sendEmailVerification().subscribe((x) => {\r\n\t\t\t// console.log('An email has been sent!');\r\n\t\t});\r\n\t}\r\n\r\n\tcheckEmailVerificationCode(code) {\r\n\t\t// console.log(code);\r\n\t\tthis.memberService.checkEmailVerification(code).subscribe((x) => {\r\n\t\t\tif (x) {\r\n\t\t\t\tthis.member.emailConfirmed = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// sendSms() {\r\n\t// \tvar num = this.registerCompleteForm.value.phoneNumber;\r\n\t// \tthis.memberService.sendSmsVerification(num).subscribe((x) => {\r\n\t// \t\tconsole.log('An sms has been sent');\r\n\t// \t});\r\n\t// }\r\n\r\n\t// verifySms(code) {\r\n\t// \tthis.memberService.checkSmsVerification(code).subscribe((x) => {\r\n\t// \t\tif (x) {\r\n\t// \t\t\tthis.member.phoneNumberConfirmed = true;\r\n\t// \t\t}\r\n\t// \t});\r\n\t// }\r\n\tremoveEmailAuth() {\r\n\t\tthis.memberService.removeEmailAuth().subscribe((x) => {\r\n\t\t\tif (x) {\r\n\t\t\t\tthis.member.emailConfirmed = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","<div class=\"glass\">\r\n\t<ngx-spinner\r\n\t\tbdColor=\"rgba(255,255,255,0.7)\"\r\n\t\tsize=\"large\"\r\n\t\tcolor=\"#fff\"\r\n\t\ttype=\"square-loader\"\r\n\t>\r\n\t\tConfiguring your profile... Hot Damn!\r\n\t</ngx-spinner>\r\n\t<div class=\"page-heading\">Complete Your Profile</div>\r\n\t<form\r\n\t\tid=\"registerCompleteForm\"\r\n\t\t[formGroup]=\"registerCompleteForm\"\r\n\t\t#completeRegister\r\n\t\tclass=\"complete-register-form\"\r\n\t\tautocomplete=\"off\"\r\n\t\t(ngSubmit)=\"SaveChanges()\"\r\n\t>\r\n\t\t<div class=\"profile-completion-dashboard\">\r\n\t\t\t<div class=\"dboard-col-1\">\r\n\t\t\t\t<div class=\"form-control-group gender\">\r\n\t\t\t\t\t<div class=\"gender-wrapper\">\r\n\t\t\t\t\t\t<label for=\"gender\">GENDER</label>\r\n\t\t\t\t\t\t<div class=\"select animated zoomIn\">\r\n\t\t\t\t\t\t\t<!-- You can toggle select (disabled) -->\r\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"gender\" />\r\n\t\t\t\t\t\t\t<i class=\"toggle fa fa-2x fa-angle-down\"></i>\r\n\t\t\t\t\t\t\t<i class=\"toggle fa fa-2x fa-angle-up\"></i>\r\n\t\t\t\t\t\t\t<span class=\"placeholder\">Choose...</span>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t*ngFor=\"let gender of genders\"\r\n\t\t\t\t\t\t\t\tclass=\"option\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\t[value]=\"gender\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"gender\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span class=\"title animated fadeIn\">\r\n\t\t\t\t\t\t\t\t\t{{ gender }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-control-group two-factor\">\r\n\t\t\t\t\t<label for=\"\">TWO-FACTOR AUTHENICATION</label>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tProtect your account with an extra layer of security.\r\n\t\t\t\t\t\tOnce configured, you'll be required to enter both your\r\n\t\t\t\t\t\tpassword and an authentication code sent to your email.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"two-fa-btn enable\"\r\n\t\t\t\t\t\t*ngIf=\"!member?.emailConfirmed\"\r\n\t\t\t\t\t\t(click)=\"sendEmail(); triggerModal(twofa)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEnable Email Authentication\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"two-fa-btn disable\"\r\n\t\t\t\t\t\t*ngIf=\"member?.emailConfirmed\"\r\n\t\t\t\t\t\t(click)=\"removeEmailAuth()\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRemove Email Authentication\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<ng-template #twofa let-modal>\r\n\t\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t\t<h4 class=\"modal-title\" id=\"modal-basic-title\">\r\n\t\t\t\t\t\t\t\tEnable Email Authentication\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"close text-danger\"\r\n\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t\t(click)=\"modal.dismiss('Cross click')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">×</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAn email has been sent to your personal email\r\n\t\t\t\t\t\t\t\taddress. Enter the code here to complete your\r\n\t\t\t\t\t\t\t\temail authentication.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<input #emailCode class=\"form-control w-100\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn text-success btn-success\"\r\n\t\t\t\t\t\t\t\t(click)=\"\r\n\t\t\t\t\t\t\t\t\tcheckEmailVerificationCode(emailCode.value)\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVerify\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn text-danger btn-danger\"\r\n\t\t\t\t\t\t\t\t(click)=\"modal.close('Save click')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-control-group sms-auth\">\r\n\t\t\t\t\t<label for=\"\">Phone Number</label>\r\n\t\t\t\t\t<!-- <p>\r\n\t\t\t\t\t\tAdd your phone as backup 2FA method in case you lose\r\n\t\t\t\t\t\tyour authentication app.\r\n\t\t\t\t\t</p> -->\r\n\t\t\t\t\t<div class=\"phone-number\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tformControlName=\"phoneNumber\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"sms-btn\"\r\n\t\t\t\t\t\t*ngIf=\"!member?.phoneNumberConfirmed\"\r\n\t\t\t\t\t\t(click)=\"sendSms(); triggerModal(smsauth)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEnable SMS Authentication\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"two-fa-btn disable\"\r\n\t\t\t\t\t\t*ngIf=\"member?.phoneNumberConfirmed\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRemove SMS Authentication\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<ng-template #smsauth let-modal>\r\n\t\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t\t<h4 class=\"modal-title\" id=\"modal-basic-title\">\r\n\t\t\t\t\t\t\t\tEnable SMS Authentication\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"close text-danger\"\r\n\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t\t(click)=\"modal.dismiss('Cross click')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">×</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t\t<p>Enter the OTP sent to your mobile phone.</p>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<input class=\"form-control w-100\" #smsCode />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn text-danger btn-success\"\r\n\t\t\t\t\t\t\t\t(click)=\"verifySMS(smsCode.value)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVerify\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"btn text-danger btn-danger\"\r\n\t\t\t\t\t\t\t\t(click)=\"modal.close('Save click')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-template> -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-control-group dboard-col-2\">\r\n\t\t\t\t<label for=\"profile-dp\">PROFILE PICTURE</label>\r\n\t\t\t\t<div class=\"img-div\">\r\n\t\t\t\t\t<div class=\"img-wrapper\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t[src]=\"\r\n\t\t\t\t\t\t\t\tsavedImage ||\r\n\t\t\t\t\t\t\t\t(registerCompleteForm.controls['gender']\r\n\t\t\t\t\t\t\t\t\t.value == 'Male'\r\n\t\t\t\t\t\t\t\t\t? './assets/profileboy.png'\r\n\t\t\t\t\t\t\t\t\t: './assets/profilegirl.png')\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"img-tools\">\r\n\t\t\t\t\t<app-file-upload\r\n\t\t\t\t\t\t(img)=\"onImageChanged($event, photoEditor)\"\r\n\t\t\t\t\t></app-file-upload>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=\"upload-btn remove\"\r\n\t\t\t\t\t\t*ngIf=\"member?.photoUrl\"\r\n\t\t\t\t\t\t(click)=\"removeImage()\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"fa fa-lg fa-trash\"></i>Delete Image\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<ng-template #photoEditor let-modal>\r\n\t\t\t\t\t\t<ngx-spinner\r\n\t\t\t\t\t\t\tbdColor=\"rgba(255,255,255)\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"#fff\"\r\n\t\t\t\t\t\t\ttype=\"square-loader\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tWe're trying to reach your photo, we've tiny\r\n\t\t\t\t\t\t\thands</ngx-spinner\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t\t\t<h4 class=\"modal-title\" id=\"modal-basic-title\">\r\n\t\t\t\t\t\t\t\tChoose the part of the image you want as display\r\n\t\t\t\t\t\t\t\tpicture\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclass=\"close text-danger\"\r\n\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t\t(click)=\"modal.dismiss('Cross click')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">×</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t\t<div class=\"cropper-wrapper\">\r\n\t\t\t\t\t\t\t\t<image-cropper\r\n\t\t\t\t\t\t\t\t\t[imageChangedEvent]=\"imageChangedEvent\"\r\n\t\t\t\t\t\t\t\t\t[maintainAspectRatio]=\"true\"\r\n\t\t\t\t\t\t\t\t\t[aspectRatio]=\"1 / 1\"\r\n\t\t\t\t\t\t\t\t\t[resizeToWidth]=\"512\"\r\n\t\t\t\t\t\t\t\t\tformat=\"jpg\"\r\n\t\t\t\t\t\t\t\t\t(imageCropped)=\"imageCropped($event)\"\r\n\t\t\t\t\t\t\t\t\t(imageLoaded)=\"imageLoaded($event)\"\r\n\t\t\t\t\t\t\t\t\t(cropperReady)=\"cropperReady()\"\r\n\t\t\t\t\t\t\t\t\t(loadImageFailed)=\"loadImageFailed()\"\r\n\t\t\t\t\t\t\t\t\t[cropperMinHeight]=\"500\"\r\n\t\t\t\t\t\t\t\t\t[roundCropper]=\"true\"\r\n\t\t\t\t\t\t\t\t></image-cropper>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"modal-footer\">\r\n\t\t\t\t\t\t\t<div class=\"save-btn-wrapper\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclass=\"save-img-btn\"\r\n\t\t\t\t\t\t\t\t\t(click)=\"intializeUpload()\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-lg fa-save\"></i>Save as\r\n\t\t\t\t\t\t\t\t\tProfile Picture\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"gallery\">\r\n\t\t\t\t\t<label for=\"\" class=\"font-weight-bold\">Gallery</label>\r\n\t\t\t\t\t<div class=\"gallery-inside\">\r\n\t\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t\t*ngFor=\"let a of ImageList$ | async | slice\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<app-gallery-image\r\n\t\t\t\t\t\t\t\t[photo]=\"a\"\r\n\t\t\t\t\t\t\t\t(OldPhoto)=\"SetOldPhoto($event)\"\r\n\t\t\t\t\t\t\t></app-gallery-image>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"dboard-col-3\">\r\n\t\t\t\t<div class=\"form-control-group\">\r\n\t\t\t\t\t<label for=\"status\">Status</label>\r\n\t\t\t\t\t<div class=\"status-input\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\twrap=\"hard\"\r\n\t\t\t\t\t\t\tmaxlength=\"75\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\tformControlName=\"status\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-control-group interest-form\">\r\n\t\t\t\t\t<label for=\"interests\">Interests</label>\r\n\t\t\t\t\t<div class=\"interest-div-wrapper\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"interest-wrapper\"\r\n\t\t\t\t\t\t\t*ngIf=\"interestList\"\r\n\t\t\t\t\t\t\t[style.padding]=\"\r\n\t\t\t\t\t\t\t\tinterestList.length === 0 ? '0' : '0.75rem'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ul class=\"interest-list\">\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"\r\n\t\t\t\t\t\t\t\t\t\tlet interest of interestList\r\n\t\t\t\t\t\t\t\t\t\t\t.slice()\r\n\t\t\t\t\t\t\t\t\t\t\t.reverse()\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\tclass=\"interest-item\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"button\">\r\n\t\t\t\t\t\t\t\t\t\t<span>{{ interest }}</span>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\t\t\t\t\t\t(click)=\"removeInterest(interest)\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-remove\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-check\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"interest-input-section\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"interest\"\r\n\t\t\t\t\t\t\t\tclass=\"interest-input\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"ADD YOUR INTERESTS HERE\"\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t[ngModelOptions]=\"{ standalone: true }\"\r\n\t\t\t\t\t\t\t\t(keyup.enter)=\"addInterest()\"\r\n\t\t\t\t\t\t\t\t(keyup.space)=\"addInterest()\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div class=\"animated-button\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass=\"icon-paper-plane\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"interest ? 'next' : ''\"\r\n\t\t\t\t\t\t\t\t\t><i class=\"fa fa-trophy\"></i></span\r\n\t\t\t\t\t\t\t\t><span\r\n\t\t\t\t\t\t\t\t\tclass=\"next-button add-up\"\r\n\t\t\t\t\t\t\t\t\t(click)=\"addInterest()\"\r\n\t\t\t\t\t\t\t\t\t><i class=\"fa fa-arrow-up\"></i\r\n\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-control-group save\">\r\n\t\t\t\t\t<button form=\"registerCompleteForm\" class=\"save-btn\">\r\n\t\t\t\t\t\t<span class=\"submit\">Save Changes</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class=\"delete-btn\">\r\n\t\t\t\t\t\t<span class=\"\" routerLink=\"/discover\"\r\n\t\t\t\t\t\t\t>Proceed Anyways</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- {{ this.registerCompleteForm.value | json }} -->\r\n\t\t</div>\r\n\t</form>\r\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\r\n\t\t<path\r\n\t\t\tfill=\"#2288fa\"\r\n\t\t\tfill-opacity=\"1\"\r\n\t\t\td=\"M0,256L80,234.7C160,213,320,171,480,170.7C640,171,800,213,960,240C1120,267,1280,277,1360,282.7L1440,288L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z\"\r\n\t\t></path>\r\n\t</svg>\r\n\t<!-- {{ registerCompleteForm.value | json }} -->\r\n</div>\r\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { delay } from 'rxjs/operators';\nimport { Photo } from '../_models/photo';\n\n@Component({\n\tselector: 'app-gallery-image',\n\ttemplateUrl: './gallery-image.component.html',\n\tstyleUrls: ['./gallery-image.component.css'],\n})\nexport class GalleryImageComponent implements OnInit {\n\tcardStyle: boolean;\n\tzIndexReset: boolean;\n\t@Input() photo: Photo;\n\t@Output() OldPhoto = new EventEmitter();\n\tconstructor() {}\n\n\tngOnInit(): void {}\n\n\tenlarge() {\n\t\tthis.cardStyle = !this.cardStyle;\n\t}\n\n\tSetOldPhoto(e) {\n\t\tthis.OldPhoto.emit(e);\n\t}\n}\n","<div class=\"parent\">\r\n\t<div class=\"wrapper\">\r\n\t\t<img [src]=\"photo.url\" class=\"gallery__image\" />\r\n\t\t<figcaption class=\"gallery__caption\">\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\t(click)=\"SetOldPhoto(photo); $event.stopPropagation()\"\r\n\t\t\t>\r\n\t\t\t\tSet as Profile Picture\r\n\t\t\t</button>\r\n\t\t</figcaption>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomepageComponent } from './homepage/homepage.component';\r\nimport { NavComponent } from './nav/nav.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { DiscoverComponent } from './homepage/discover/discover.component';\r\nimport { UserCardsComponent } from './homepage/discover/user-cards/user-cards.component';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FriendRequestComponent } from './homepage/discover/discover-left/friend-request/friend-request.component';\r\nimport { MessagesComponent } from './homepage/messages/messages.component';\r\nimport { MessagesLeftComponent } from './homepage/messages/messages-left/messages-left.component';\r\nimport { JwtInterceptor } from './_interceptors/jwt.interceptor';\r\nimport { NgxSpinnerModule } from 'ngx-spinner';\r\nimport { LoadingInterceptor } from './_interceptors/loading.interceptor';\r\nimport { SettingsComponent } from './homepage/settings/settings.component';\r\nimport { SettingsLeftComponent } from './homepage/settings/settings-left/settings-left.component';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { TextInputComponent } from './_forms/text-input/text-input.component';\r\nimport { ProfileCompleteComponent } from './profile-complete/profile-complete.component';\r\nimport { DiscoverLeftComponent } from './homepage/discover/discover-left/discover-left.component';\r\nimport { NgbModule, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { GalleryImageComponent } from './gallery-image/gallery-image.component';\r\nimport { FileUploadComponent } from './_forms/file-upload/file-upload.component';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\nimport { GalleryImagePipe } from './pipes/gallery-image.pipe';\r\nimport { UserProfileComponent } from './user-profile/user-profile.component';\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { ButtonsModule } from 'ngx-bootstrap/buttons';\r\nimport { TimelineEventComponent } from './user-profile/timeline-event/timeline-event.component';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { FfbToastrComponent } from './components/ffb-toastr/ffb-toastr.component';\r\nimport { PickerModule } from '@ctrl/ngx-emoji-mart';\r\nimport { TimeagoModule } from 'ngx-timeago';\r\nimport { EmojiModule } from '@ctrl/ngx-emoji-mart/ngx-emoji';\r\nimport { DashboardComponent } from './homepage/dashboard/dashboard.component';\r\nimport { DashboardLeftComponent } from './homepage/dashboard/dashboard-left/dashboard-left.component';\r\nimport { KhusComponent } from './_specials/khus/khus.component';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tAppComponent,\r\n\t\tHomepageComponent,\r\n\t\tNavComponent,\r\n\t\tLoginComponent,\r\n\t\tDiscoverComponent,\r\n\t\tUserCardsComponent,\r\n\t\tMessagesComponent,\r\n\t\tMessagesLeftComponent,\r\n\t\tSettingsComponent,\r\n\t\tSettingsLeftComponent,\r\n\t\tTextInputComponent,\r\n\t\tProfileCompleteComponent,\r\n\t\tFriendRequestComponent,\r\n\t\tDiscoverLeftComponent,\r\n\t\tGalleryImageComponent,\r\n\t\tFileUploadComponent,\r\n\t\tGalleryImagePipe,\r\n\t\tUserProfileComponent,\r\n\t\tTimelineEventComponent,\r\n\t\tFfbToastrComponent,\r\n\t\tDashboardComponent,\r\n\t\tDashboardLeftComponent,\r\n\t\tKhusComponent,\r\n\t],\r\n\timports: [\r\n\t\tBrowserModule,\r\n\t\tAppRoutingModule,\r\n\t\tBrowserAnimationsModule,\r\n\t\tHttpClientModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule,\r\n\t\tNgxSpinnerModule,\r\n\t\tTabsModule,\r\n\t\tImageCropperModule,\r\n\t\tNgbModule,\r\n\t\tPaginationModule.forRoot(),\r\n\t\tButtonsModule.forRoot(),\r\n\t\tToastrModule.forRoot({\r\n\t\t\tpositionClass: 'toast-bottom-right',\r\n\t\t\ttimeOut: 10000,\r\n\t\t}),\r\n\t\tPickerModule,\r\n\t\tTimeagoModule.forRoot(),\r\n\t],\r\n\tentryComponents: [FfbToastrComponent],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: HTTP_INTERCEPTORS,\r\n\t\t\tuseClass: JwtInterceptor,\r\n\t\t\tmulti: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tprovide: HTTP_INTERCEPTORS,\r\n\t\t\tuseClass: LoadingInterceptor,\r\n\t\t\tmulti: true,\r\n\t\t},\r\n\t],\r\n\tbootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import {\r\n\tComponent,\r\n\tOnInit,\r\n\tViewEncapsulation,\r\n\tViewChild,\r\n\tAfterViewInit,\r\n} from '@angular/core';\r\nimport { TabsService } from '../../_services/tabs.service';\r\nimport { TabsetComponent } from 'ngx-bootstrap/tabs';\r\n\r\n@Component({\r\n\tselector: 'app-settings',\r\n\ttemplateUrl: './settings.component.html',\r\n\tstyleUrls: ['./settings.component.css'],\r\n\tencapsulation: ViewEncapsulation.Emulated,\r\n})\r\nexport class SettingsComponent implements OnInit, AfterViewInit {\r\n\t@ViewChild('smallnav', { static: false }) tabs: TabsetComponent;\r\n\tactiveTab;\r\n\tconstructor(private tabService: TabsService) {}\r\n\r\n\tngOnInit(): void {}\r\n\r\n\tngAfterViewInit(): void {\r\n\t\tthis.tabService.currTab.subscribe((x) => {\r\n\t\t\tthis.activeTab = x;\r\n\t\t\tthis.tabs.tabs[+this.activeTab].active = true;\r\n\t\t});\r\n\t}\r\n\r\n\tsetTab(i: string) {\r\n\t\tthis.tabService.setTab(i);\r\n\t}\r\n}\r\n","<div class=\"heading\">\r\n\t<tabset #smallnav type=\"pills\">\r\n\t\t<tab class=\"tab-link\" heading=\"General\" (selectTab)=\"setTab('0')\">\r\n\t\t\t<div class=\"content\">\r\n\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t<div class=\"detail-input-group\">\r\n\t\t\t\t\t\t<label for=\"status\">Status</label>\r\n\t\t\t\t\t\t<div class=\"inp-group\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"status\"\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\t\t>\r\nBe wild, moonchild\r\n</textarea\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"detail-input-group\">\r\n\t\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t\t<input id=\"notify\" type=\"checkbox\" />\r\n\t\t\t\t\t\t\t<label for=\"notify\"\r\n\t\t\t\t\t\t\t\t>Enable Desktop Notifications</label\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</tab>\r\n\t\t<tab class=\"tab-link\" heading=\"Gallery\" (selectTab)=\"setTab('1')\"></tab>\r\n\t\t<tab class=\"tab-link\" heading=\"Account\" (selectTab)=\"setTab('2')\"\r\n\t\t\t><div class=\"content\">\r\n\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t<div class=\"profile-img\">\r\n\t\t\t\t\t\t<img src=\"./assets/profileboy.png\" alt=\"\" />\r\n\t\t\t\t\t\t<div class=\"change-img\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\twidth=\"20\"\r\n\t\t\t\t\t\t\t\theight=\"20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"bi bi-file-earmark-plus\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"details\">\r\n\t\t\t\t\t\t<div class=\"detail-input-group\">\r\n\t\t\t\t\t\t\t<label for=\"username\">Username</label>\r\n\t\t\t\t\t\t\t<div class=\"inp-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"Amar\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"detail-input-group\">\r\n\t\t\t\t\t\t\t<label for=\"email\">E-mail</label>\r\n\t\t\t\t\t\t\t<div class=\"inp-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"ab30657@gmail.com\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"detail-input-group\">\r\n\t\t\t\t\t\t\t<label for=\"phone\">Phone number</label>\r\n\t\t\t\t\t\t\t<div class=\"inp-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid=\"phone\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"+9779876543210\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pwd-auth\">\r\n\t\t\t\t\t<span>Password and Authentication</span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button>Change Password</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"deletion\">\r\n\t\t\t\t\t<span>Account Removal</span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button>Delete Acoount</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div></tab\r\n\t\t>\r\n\t</tabset>\r\n</div>\r\n","import {\r\n\tanimate,\r\n\tkeyframes,\r\n\tstate,\r\n\tstyle,\r\n\ttransition,\r\n\ttrigger,\r\n} from '@angular/animations';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Toast, ToastPackage, ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n\tselector: 'app-ffb-toastr',\r\n\ttemplateUrl: './ffb-toastr.component.html',\r\n\tstyleUrls: ['./ffb-toastr.component.css'],\r\n\tanimations: [\r\n\t\ttrigger('flyInOut', [\r\n\t\t\tstate(\r\n\t\t\t\t'inactive',\r\n\t\t\t\tstyle({\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\r\n\t\t\t\t'inactive => active',\r\n\t\t\t\tanimate(\r\n\t\t\t\t\t'400ms ease-out',\r\n\t\t\t\t\tkeyframes([\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\ttransform: 'translate3d(100%, 0, 0) skewX(-30deg)',\r\n\t\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\ttransform: 'skewX(20deg)',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\ttransform: 'skewX(-5deg)',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\ttransform: 'none',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t])\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\ttransition(\r\n\t\t\t\t'active => removed',\r\n\t\t\t\tanimate(\r\n\t\t\t\t\t'400ms ease-out',\r\n\t\t\t\t\tkeyframes([\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tstyle({\r\n\t\t\t\t\t\t\ttransform: 'translate3d(100%, 0, 0) skewX(30deg)',\r\n\t\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t])\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t]),\r\n\t],\r\n\tpreserveWhitespaces: false,\r\n})\r\nexport class FfbToastrComponent extends Toast {\r\n\t// used for demo purposes\r\n\tundoString = 'undo';\r\n\r\n\t// constructor is only necessary when not using AoT\r\n\tconstructor(\r\n\t\tprotected toastrService: ToastrService,\r\n\t\tpublic toastPackage: ToastPackage\r\n\t) {\r\n\t\tsuper(toastrService, toastPackage);\r\n\t}\r\n\r\n\taction(event: Event) {\r\n\t\tevent.stopPropagation();\r\n\t\tthis.undoString = 'undid';\r\n\t\tthis.toastPackage.triggerAction();\r\n\t\treturn false;\r\n\t}\r\n}\r\n","<div class=\"row\" [style.display]=\"state.value === 'inactive' ? 'none' : ''\">\r\n\t<div class=\"col-9\">\r\n\t\t<div\r\n\t\t\t*ngIf=\"title\"\r\n\t\t\t[class]=\"options.titleClass\"\r\n\t\t\t[attr.aria-label]=\"title\"\r\n\t\t>\r\n\t\t\t{{ title }}\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\t*ngIf=\"message && options.enableHtml\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"polite\"\r\n\t\t\t[class]=\"options.messageClass\"\r\n\t\t\t[innerHTML]=\"message\"\r\n\t\t></div>\r\n\t\t<div\r\n\t\t\t*ngIf=\"message && !options.enableHtml\"\r\n\t\t\trole=\"alert\"\r\n\t\t\taria-live=\"polite\"\r\n\t\t\t[class]=\"options.messageClass\"\r\n\t\t\t[attr.aria-label]=\"message\"\r\n\t\t>\r\n\t\t\t{{ message }}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"col-3 text-right\">\r\n\t\t<a\r\n\t\t\t*ngIf=\"!options.closeButton\"\r\n\t\t\tclass=\"btn btn-pink btn-sm\"\r\n\t\t\t(click)=\"action($event)\"\r\n\t\t>\r\n\t\t\t{{ undoString }}\r\n\t\t</a>\r\n\t\t<a\r\n\t\t\t*ngIf=\"options.closeButton\"\r\n\t\t\t(click)=\"remove()\"\r\n\t\t\tclass=\"btn btn-pink btn-sm\"\r\n\t\t>\r\n\t\t\tclose\r\n\t\t</a>\r\n\t</div>\r\n</div>\r\n<div *ngIf=\"options.progressBar\">\r\n\t<div class=\"toast-progress\" [style.width]=\"width + '%'\"></div>\r\n</div>\r\n","<div class=\"register-control-group\">\r\n\t<h5>{{ label }}</h5>\r\n\t<input\r\n\t\t[class.is-invalid]=\"ngControl.touched && ngControl.invalid\"\r\n\t\t[formControl]=\"ngControl.control\"\r\n\t\ttype=\"{{ type }}\"\r\n\t\tclass=\"form-control\"\r\n\t/>\r\n\t<div class=\"error\">\r\n\t\t<div *ngIf=\"ngControl.touched && ngControl.invalid\">\r\n\t\t\t<span *ngIf=\"ngControl.control.errors?.required\"\r\n\t\t\t\t>{{ label }} is required</span\r\n\t\t\t>\r\n\t\t\t<!-- <span *ngIf=\"ngControl.control.errors?.isMatch\"\r\n\t\t\t\t>Passwords do not match</span\r\n\t\t\t> -->\r\n\t\t\t<span *ngIf=\"ngControl.control.errors?.email\"\r\n\t\t\t\t>Enter a valid email</span\r\n\t\t\t>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, Input, OnInit, Self } from '@angular/core';\nimport { ControlValueAccessor, NgControl } from '@angular/forms';\n\n@Component({\n\tselector: 'app-text-input',\n\ttemplateUrl: './text-input.component.html',\n\tstyleUrls: ['./text-input.component.css'],\n})\nexport class TextInputComponent implements ControlValueAccessor {\n\t@Input() label: string;\n\t@Input() type = 'text';\n\tconstructor(@Self() public ngControl: NgControl) {\n\t\tthis.ngControl.valueAccessor = this;\n\t}\n\n\twriteValue(obj: any): void {}\n\tregisterOnChange(fn: any): void {}\n\tregisterOnTouched(fn: any): void {}\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { User } from '../_models/user';\r\nimport { AccountService } from '../_services/account.service';\r\nimport { PresenceService } from '../_services/presence.service';\r\nimport { MessageService } from '../_services/message.service';\r\nimport { Message } from '../_models/message';\r\n\r\n@Component({\r\n\tselector: 'app-nav',\r\n\ttemplateUrl: './nav.component.html',\r\n\tstyleUrls: ['./nav.component.css'],\r\n})\r\nexport class NavComponent implements OnInit {\r\n\tuser: User;\r\n\tunreadMessages: boolean;\r\n\tmessages: Message[];\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate presence: PresenceService,\r\n\t\tprivate messageService: MessageService\r\n\t) {\r\n\t\tthis.accountService.currentUser$\r\n\t\t\t.pipe(take(1))\r\n\t\t\t.subscribe((x) => (this.user = x));\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.messageService.latestMessages$.subscribe((x: Message[]) => {\r\n\t\t\t// console.log(x);\r\n\t\t\tif (x) {\r\n\t\t\t\tthis.unreadMessages = x.some(\r\n\t\t\t\t\t(x) =>\r\n\t\t\t\t\t\tx.dateRead == null &&\r\n\t\t\t\t\t\tx.senderUsername != this.user.username\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.presence.latestMessage$.subscribe((x:Message[]) => {\r\n\t\t// \tthis.unreadMessages = x\r\n\r\n\t\t// });\r\n\t}\r\n\tlogout() {\r\n\t\tthis.accountService.logout();\r\n\t}\r\n}\r\n","<nav class=\"nav\">\r\n\t<div class=\"dashboard-navbar\">\r\n\t\t<a class=\"nav-logo\">\r\n\t\t\t<img\r\n\t\t\t\tclass=\"rounded-circle user-dp\"\r\n\t\t\t\t[src]=\"\r\n\t\t\t\t\tthis.user.photoUrl ||\r\n\t\t\t\t\t(this.user.gender == 'Female'\r\n\t\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\t\"\r\n\t\t\t/>\r\n\t\t\t<span class=\"nav-logo-name\">GuffMate</span>\r\n\t\t</a>\r\n\r\n\t\t<div class=\"nav-list\">\r\n\t\t\t<a\r\n\t\t\t\tclass=\"nav-link\"\r\n\t\t\t\trouterLink=\"/dashboard\"\r\n\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"fa fa-th-large nav-icon\"></i>\r\n\t\t\t\t<span class=\"nav-name\">Dashboard</span>\r\n\t\t\t</a>\r\n\t\t\t<a\r\n\t\t\t\tclass=\"nav-link\"\r\n\t\t\t\trouterLink=\"/discover\"\r\n\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"fa fa-users nav-icon\"></i>\r\n\t\t\t\t<span class=\"nav-name\">Discover</span>\r\n\t\t\t</a>\r\n\t\t\t<a\r\n\t\t\t\tclass=\"nav-link\"\r\n\t\t\t\trouterLink=\"/messages\"\r\n\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"icon-wrapper\">\r\n\t\t\t\t\t<i class=\"fa fa-envelope nav-icon\"></i>\r\n\t\t\t\t\t<span *ngIf=\"unreadMessages\" class=\"dot\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"nav-name\">Messages</span>\r\n\t\t\t</a>\r\n\r\n\t\t\t<a\r\n\t\t\t\tclass=\"nav-link\"\r\n\t\t\t\trouterLink=\"/settings\"\r\n\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"fa fa-cog nav-icon\"></i>\r\n\t\t\t\t<span class=\"nav-name\">Account Settings</span>\r\n\t\t\t</a>\r\n\t\t\t<a class=\"nav-link\" (click)=\"logout()\">\r\n\t\t\t\t<i class=\"fa fa-power-off nav-icon\"></i>\r\n\t\t\t\t<span class=\"nav-name\">Log out</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</nav>\r\n","import {\r\n\ttrigger,\r\n\ttransition,\r\n\tstyle,\r\n\tquery,\r\n\tanimateChild,\r\n\tgroup,\r\n\tanimate,\r\n} from '@angular/animations';\r\nexport const routeTransitionAnimations = trigger('triggerName', [\r\n\ttransition('one => two', [\r\n\t\tquery(\r\n\t\t\t':enter, :leave',\r\n\t\t\tstyle({ position: 'fixed', 'z-index': '100' }),\r\n\t\t\t{\r\n\t\t\t\toptional: true,\r\n\t\t\t}\r\n\t\t),\r\n\t\tgroup([\r\n\t\t\tquery(\r\n\t\t\t\t':enter',\r\n\t\t\t\t[\r\n\t\t\t\t\tstyle({ transform: 'translateX(100%)', opacity: 0 }),\r\n\t\t\t\t\tanimate(\r\n\t\t\t\t\t\t'.5s ease-in-out',\r\n\t\t\t\t\t\tstyle({ transform: 'translateX(0%)', opacity: 1 })\r\n\t\t\t\t\t),\r\n\t\t\t\t],\r\n\t\t\t\t{ optional: true }\r\n\t\t\t),\r\n\t\t\tquery(\r\n\t\t\t\t':leave',\r\n\t\t\t\t[\r\n\t\t\t\t\tstyle({ transform: 'translateX(0%)' }),\r\n\t\t\t\t\tanimate(\r\n\t\t\t\t\t\t'.5s ease-in-out',\r\n\t\t\t\t\t\tstyle({ transform: 'translateX(-100%)', opacity: 0 })\r\n\t\t\t\t\t),\r\n\t\t\t\t],\r\n\t\t\t\t{ optional: true }\r\n\t\t\t),\r\n\t\t]),\r\n\t]),\r\n\ttransition('two => one', [\r\n\t\tquery(\r\n\t\t\t':enter, :leave',\r\n\t\t\tstyle({ position: 'fixed', 'z-index': '100' }),\r\n\t\t\t{\r\n\t\t\t\toptional: true,\r\n\t\t\t}\r\n\t\t),\r\n\t\tgroup([\r\n\t\t\tquery(\r\n\t\t\t\t':enter',\r\n\t\t\t\t[\r\n\t\t\t\t\tstyle({ transform: 'translateX(-100%)', opacity: 0 }),\r\n\t\t\t\t\tanimate(\r\n\t\t\t\t\t\t'.5s ease-in-out',\r\n\t\t\t\t\t\tstyle({ transform: 'translateX(0%)', opacity: 1 })\r\n\t\t\t\t\t),\r\n\t\t\t\t],\r\n\t\t\t\t{ optional: true }\r\n\t\t\t),\r\n\t\t\tquery(\r\n\t\t\t\t':leave',\r\n\t\t\t\t[\r\n\t\t\t\t\tstyle({ transform: 'translateX(0%)', opacity: 1 }),\r\n\t\t\t\t\tanimate(\r\n\t\t\t\t\t\t'.5s ease-in-out',\r\n\t\t\t\t\t\tstyle({ transform: 'translateX(100%)', opacity: 0 })\r\n\t\t\t\t\t),\r\n\t\t\t\t],\r\n\t\t\t\t{ optional: true }\r\n\t\t\t),\r\n\t\t]),\r\n\t]),\r\n]);\r\n","import { Injectable } from '@angular/core';\r\nimport { HubConnection, HubConnectionBuilder } from '@microsoft/signalr';\r\nimport { environment } from 'src/environments/environment';\r\nimport { User } from '../_models/user';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { Message } from '../_models/message';\r\nimport { MembersService } from './members.service';\r\nimport { Friend } from '../_models/Friend';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Router } from '@angular/router';\r\nimport { MessageService } from './message.service';\r\nimport { FriendsService } from './friends.service';\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class PresenceService {\r\n\thubUrl = environment.hubUrl;\r\n\tprivate hubConnection: HubConnection;\r\n\tprivate onlineUsersSource = new BehaviorSubject<string[]>([]);\r\n\tonlineUsers$ = this.onlineUsersSource.asObservable();\r\n\t// private latestMessageSource = new BehaviorSubject<boolean>(false);\r\n\t// latestMessage$ = this.latestMessageSource.asObservable();\r\n\r\n\tconstructor(\r\n\t\tprivate toastr: ToastrService,\r\n\t\tprivate router: Router,\r\n\t\tprivate messageService: MessageService,\r\n\t\tprivate friendsService: FriendsService\r\n\t) {}\r\n\r\n\tcreateHubConnection(user: User) {\r\n\t\tthis.hubConnection = new HubConnectionBuilder()\r\n\t\t\t.withUrl(this.hubUrl + 'presence', {\r\n\t\t\t\taccessTokenFactory: () => user.token,\r\n\t\t\t})\r\n\t\t\t.withAutomaticReconnect()\r\n\t\t\t.build();\r\n\r\n\t\tthis.hubConnection.start().catch((error) => console.log(error));\r\n\t\tthis.hubConnection.on('UserIsOnline', (username) => {\r\n\t\t\tthis.onlineUsers$.pipe(take(1)).subscribe((users) => {\r\n\t\t\t\tthis.onlineUsersSource.next([...users, username]);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('UserIsOffline', (username) => {\r\n\t\t\tthis.onlineUsers$.pipe(take(1)).subscribe((usernames) => {\r\n\t\t\t\tthis.onlineUsersSource.next([\r\n\t\t\t\t\t...usernames.filter((x) => x !== username),\r\n\t\t\t\t]);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('GetOnlineUsers', (usernames: string[]) => {\r\n\t\t\tthis.onlineUsersSource.next(usernames);\r\n\t\t\tthis.messageService.latestMessages$.subscribe((x) => {\r\n\t\t\t\tif (x) {\r\n\t\t\t\t\t// this.latestMessageSource.next(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('NewMessageReceived', (message: Message) => {\r\n\t\t\t//design a notification pop up\r\n\t\t\t// console.log('here');\r\n\t\t\t// this.latestMessageSource.next(true)\t\t\tthis.latestFriendRequest.next(data);;\r\n\t\t\tthis.messageService.updateLatestMessages(message);\r\n\t\t\tthis.toastr\r\n\t\t\t\t.info(\r\n\t\t\t\t\tmessage.senderUsername +\r\n\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t(message.isImage ? 'Sent an image.' : message.content)\r\n\t\t\t\t)\r\n\t\t\t\t.onTap.pipe(take(1))\r\n\t\t\t\t.subscribe(() => {\r\n\t\t\t\t\tthis.router.navigateByUrl(\r\n\t\t\t\t\t\t'/messages/' + message.senderUsername\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('UpdateLatestMessages', (messages: Message[]) => {\r\n\t\t\t// console.log(messages);\r\n\t\t\tmessages.forEach((x) => {\r\n\t\t\t\tif (x) {\r\n\t\t\t\t\tthis.messageService.updateLatestMessages(x);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('UpdateRequestList', (requests: Friend[]) => {\r\n\t\t\tthis.friendsService.updateFriendList(requests);\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('NewFriendRequest', (data: Friend) => {\r\n\t\t\t// console.log(data);\r\n\t\t\tthis.friendsService.friends$.pipe(take(1)).subscribe((x) => {\r\n\t\t\t\t// x.splice(x.findIndex((a) => a.username == data.username));\r\n\t\t\t\t// console.log(x);\r\n\t\t\t\tthis.friendsService.updateFriendList([...x, data]);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.hubConnection.on('DeletedRequest', (request) => {\r\n\t\t\tthis.friendsService.friends$.pipe(take(1)).subscribe((x) => {\r\n\t\t\t\tx.splice(x.findIndex((a) => a.username == request.username));\r\n\t\t\t\tthis.friendsService.updateFriendList([...x]);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tstopHubConnection() {\r\n\t\tthis.hubConnection.stop().catch((x) => console.log(x));\r\n\t}\r\n\tSendRequest(username: string) {\r\n\t\treturn this.hubConnection\r\n\t\t\t.invoke('SendRequest', username)\r\n\t\t\t.catch((error) => console.log(error));\r\n\t\t// return this.http.post(\r\n\t\t// \tthis.baseUrl + 'friends/send-request/' + username,\r\n\t\t// \t''\r\n\t\t// );\r\n\t}\r\n\tCancelRequest(username: string) {\r\n\t\treturn this.hubConnection\r\n\t\t\t.invoke('CancelRequest', username)\r\n\t\t\t.catch((x) => console.log(x));\r\n\t}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AccountService } from '../../_services/account.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-khus',\r\n\ttemplateUrl: './khus.component.html',\r\n\tstyleUrls: ['./khus.component.css'],\r\n})\r\nexport class KhusComponent implements OnInit {\r\n\topen: boolean;\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate router: Router\r\n\t) {\r\n\t\tthis.accountService.currentUser$.pipe().subscribe((x) => {\r\n\t\t\tif (x.username != 'khubs') {\r\n\t\t\t\tthis.router.navigateByUrl('/');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngOnInit(): void {}\r\n}\r\n","<div class=\"main-content\">\r\n\t<div class=\"bgoverlay\">\r\n\t\t<div class=\"container\" [ngClass]=\"this.open ? 'open' : ''\">\r\n\t\t\t<span class=\"ico\">\r\n\t\t\t\t<span class=\"ico2\"></span>\r\n\t\t\t\t<span class=\"title\" (click)=\"this.open = true\">Click Me!</span>\r\n\t\t\t</span>\r\n\t\t\t<div class=\"endtext\">\r\n\t\t\t\t<span class=\"close\" title=\"Restart\" (click)=\"this.open = false\"\r\n\t\t\t\t\t><i class=\"fa fa-times\"></i\r\n\t\t\t\t></span>\r\n\t\t\t\t<div class=\"animation-div\">\r\n\t\t\t\t\t<h1>I Love you, my butterfly</h1>\r\n\t\t\t\t\t<h3>~Amar</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { User } from './user';\r\nexport class UserParams {\r\n\tgender = '';\r\n\tpageNumber = 1;\r\n\tpageSize = 10;\r\n\torderBy = 'lastActive';\r\n\tpredicate = 'received';\r\n\tuptodate = false;\r\n\tconstructor() {}\r\n}\r\n","export class FriendsParams {\r\n\tpageNumber = 1;\r\n\tpageSize = 10;\r\n\tpredicate = 'received';\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n\tActivatedRouteSnapshot,\r\n\tCanActivate,\r\n\tRouter,\r\n\tRouterStateSnapshot,\r\n\tUrlTree,\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { AccountService } from '../_services/account.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class LoginGuard implements CanActivate {\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate router: Router\r\n\t) {}\r\n\r\n\tcanActivate(\r\n\t\troute: ActivatedRouteSnapshot,\r\n\t\tstate: RouterStateSnapshot\r\n\t): Observable<boolean> {\r\n\t\treturn this.accountService.currentUser$.pipe(\r\n\t\t\tmap((user) => {\r\n\t\t\t\tif (user) return true;\r\n\t\t\t\tthis.router.navigate(['/login']);\r\n\t\t\t\t//else YOU SHALL PASS!\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { Photo } from '../_models/photo';\n\n@Pipe({\n\tname: 'galleryImage',\n})\nexport class GalleryImagePipe implements PipeTransform {\n\ttransform(value: Photo[]): Observable<Photo[]> {\n\t\treturn of(value?.filter((x) => !x.isMain));\n\t}\n}\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\n\r\nexport function getPaginatedResult<T>(\r\n\turl,\r\n\tparams: HttpParams,\r\n\thttp: HttpClient\r\n) {\r\n\tconst paginatedResult: PaginatedResult<T> = new PaginatedResult<T>();\r\n\treturn http\r\n\t\t.get<T>(url, {\r\n\t\t\tobserve: 'response',\r\n\t\t\tparams,\r\n\t\t})\r\n\t\t.pipe(\r\n\t\t\tmap((response) => {\r\n\t\t\t\tpaginatedResult.result = response.body;\r\n\t\t\t\tif (response.headers.get('Pagination') !== null) {\r\n\t\t\t\t\tpaginatedResult.pagination = JSON.parse(\r\n\t\t\t\t\t\tresponse.headers.get('Pagination')\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn paginatedResult;\r\n\t\t\t})\r\n\t\t);\r\n}\r\n\r\nexport function getPaginationHeaders(pageNumber: number, pageSize: number) {\r\n\tlet params = new HttpParams();\r\n\tparams = params.append('pageNumber', pageNumber.toString());\r\n\tparams = params.append('pageSize', pageSize.toString());\r\n\treturn params;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomepageComponent } from './homepage/homepage.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { DiscoverComponent } from './homepage/discover/discover.component';\r\nimport { MessagesLeftComponent } from './homepage/messages/messages-left/messages-left.component';\r\nimport { MessagesComponent } from './homepage/messages/messages.component';\r\nimport { SettingsLeftComponent } from './homepage/settings/settings-left/settings-left.component';\r\nimport { SettingsComponent } from './homepage/settings/settings.component';\r\nimport { DiscoverLeftComponent } from './homepage/discover/discover-left/discover-left.component';\r\nimport { ProfileCompleteComponent } from './profile-complete/profile-complete.component';\r\nimport { UserProfileComponent } from './user-profile/user-profile.component';\r\nimport { DashboardLeftComponent } from './homepage/dashboard/dashboard-left/dashboard-left.component';\r\nimport { DashboardComponent } from './homepage/dashboard/dashboard.component';\r\nimport { KhusComponent } from './_specials/khus/khus.component';\r\nimport { LoginGuard } from './_guards/login.guard';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: 'login',\r\n\t\tcomponent: LoginComponent,\r\n\t\tdata: { animationState: 'one' },\r\n\t},\r\n\t{\r\n\t\tpath: 'profilecompletion',\r\n\t\tcomponent: ProfileCompleteComponent,\r\n\t\tcanActivate: [LoginGuard],\r\n\t},\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: HomepageComponent,\r\n\t\tcanActivate: [AuthGuard],\r\n\t\tdata: { animationState: 'two' },\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirectTo: 'discover',\r\n\t\t\t\tpathMatch: 'full',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'discover',\r\n\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: DiscoverLeftComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'left',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: DiscoverComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'right',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'messages/:username',\r\n\t\t\t\tpathMatch: 'full',\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: MessagesLeftComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'left',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: MessagesComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'right',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'settings',\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: SettingsLeftComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'left',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: SettingsComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'right',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: 'dashboard',\r\n\t\t\t\tchildren: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: DashboardLeftComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'left',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpath: '',\r\n\t\t\t\t\t\tcomponent: DashboardComponent,\r\n\t\t\t\t\t\tcanActivate: [AuthGuard],\r\n\t\t\t\t\t\toutlet: 'right',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tpath: 'messages',\r\n\t\tpathMatch: 'full',\r\n\t\tredirectTo: 'messages/',\r\n\t},\r\n\t{ path: '', redirectTo: 'discover', pathMatch: 'full' },\r\n\t{\r\n\t\tpath: ':username',\r\n\t\tpathMatch: 'full',\r\n\t\tcomponent: UserProfileComponent,\r\n\t\t// canActivate: [AuthGuard],\r\n\t},\r\n];\r\n@NgModule({\r\n\timports: [RouterModule.forRoot(routes, { enableTracing: true })],\r\n\texports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\r\nimport {\r\n\tAbstractControl,\r\n\tFormBuilder,\r\n\tFormControl,\r\n\tFormGroup,\r\n\tValidatorFn,\r\n\tValidators,\r\n} from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AccountService } from '../_services/account.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n\tselector: 'app-login',\r\n\ttemplateUrl: './login.component.html',\r\n\tstyleUrls: ['./login.component.css'],\r\n\thost: {\r\n\t\tclass: 'login-board',\r\n\t},\r\n})\r\nexport class LoginComponent implements OnInit, AfterViewInit {\r\n\tmodel: any = {};\r\n\tregisterForm: FormGroup;\r\n\tloggedIn: boolean;\r\n\ticonStatus: string = 'fa-eye';\r\n\tpassType: string = 'password';\r\n\treel;\r\n\ttab1;\r\n\ttab2;\r\n\tpanel1;\r\n\tpanel2;\r\n\tislogin = true;\r\n\tloginValidationErrors: string[];\r\n\tconstructor(\r\n\t\tprivate accountService: AccountService,\r\n\t\tprivate router: Router,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate fb: FormBuilder,\r\n\t\tprivate toastr: ToastrService\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.getCurrentUser();\r\n\t\tthis.initRegForm();\r\n\t\t// console.log(this.registerForm.controls['password']);\r\n\t}\r\n\tinitRegForm(): void {\r\n\t\tthis.registerForm = this.fb.group({\r\n\t\t\tname: ['', Validators.required],\r\n\t\t\temail: ['', [Validators.required, Validators.email]],\r\n\t\t\tusername: ['', Validators.required],\r\n\r\n\t\t\tpassword: ['', [Validators.required, Validators.minLength(6)]],\r\n\t\t\tconfirmpassword: [\r\n\t\t\t\t'',\r\n\t\t\t\t[Validators.required, this.matchValues('password')],\r\n\t\t\t],\r\n\t\t});\r\n\t\tthis.registerForm\r\n\t\t\t.get('password')\r\n\t\t\t.valueChanges.subscribe(() =>\r\n\t\t\t\tthis.registerForm.controls[\r\n\t\t\t\t\t'confirmpassword'\r\n\t\t\t\t].updateValueAndValidity()\r\n\t\t\t);\r\n\t}\r\n\tmatchValues(matchTo: string): ValidatorFn {\r\n\t\treturn (control: AbstractControl) => {\r\n\t\t\treturn control?.value === control?.parent?.controls[matchTo].value\r\n\t\t\t\t? null\r\n\t\t\t\t: { isMatch: true };\r\n\t\t};\r\n\t}\r\n\tngAfterViewInit(): void {\r\n\t\tthis.reel = document.querySelector('.tab_reel');\r\n\t\tthis.tab1 = document.querySelector('.tab1');\r\n\t\tthis.tab2 = document.querySelector('.tab2');\r\n\t\tthis.panel1 = document.querySelector('.tab_panel1');\r\n\t\tthis.panel2 = document.querySelector('.tab_panel2');\r\n\t}\r\n\r\n\tlogin() {\r\n\t\tthis.accountService.login(this.model).subscribe(\r\n\t\t\t(user) => {\r\n\t\t\t\t// if (user.emailConfirmed) {\r\n\t\t\t\t// this.router.navigateByUrl('/email-auth-code');\r\n\t\t\t\t// } else {\r\n\t\t\t\tthis.router.navigateByUrl('/discover');\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.loginValidationErrors = error.error;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tregister() {\r\n\t\tthis.accountService.register(this.registerForm.value).subscribe(\r\n\t\t\t(response) => {\r\n\t\t\t\tthis.router.navigateByUrl('/profilecompletion');\r\n\t\t\t\t//load animations\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthis.toastr.error(error.error);\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tgetCurrentUser() {\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tthis.loggedIn = !!user;\r\n\t\t// console.log(this.loggedIn);\r\n\t\tif (this.loggedIn) {\r\n\t\t\tthis.router.navigateByUrl('/discover', {\r\n\t\t\t\treplaceUrl: true,\r\n\t\t\t\tstate: { animationState: '' },\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\ttoggle() {\r\n\t\tif (this.passType == 'password') {\r\n\t\t\tthis.iconStatus = 'fa-eye-slash';\r\n\t\t\tthis.passType = 'text';\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.iconStatus = 'fa-eye';\r\n\t\tthis.passType = 'password';\r\n\t\t// console.log(this.registerForm.status);\r\n\t}\r\n\r\n\tslideLeft() {\r\n\t\tthis.tab2.classList.remove('active');\r\n\t\tthis.tab1.classList.add('active');\r\n\t\tthis.reel.style.transform = 'translateX(0%)';\r\n\t\tthis.islogin = true;\r\n\t}\r\n\r\n\tslideRight() {\r\n\t\tthis.tab1.classList.remove('active');\r\n\t\tthis.tab2.classList.add('active');\r\n\t\tthis.reel.style.transform = 'translateX(-125%)';\r\n\t\tthis.islogin = false;\r\n\t}\r\n}\r\n","<div class=\"glass\">\r\n\t<div class=\"loader\">\r\n\t\t<ngx-spinner bdColor=\"rgba(255,255,255,0.5)\">\r\n\t\t\t<h3>Zwoop!</h3>\r\n\t\t</ngx-spinner>\r\n\t</div>\r\n\t<div class=\"login-dashboard\">\r\n\t\t<div class=\"app-logo\">\r\n\t\t\t<i class=\"fa fa-joomla\" [ngClass]=\"islogin ? 'fa-5x' : 'fa-3x'\"></i>\r\n\t\t\t<nav>\r\n\t\t\t\t<div class=\"tab tab1 active\" (click)=\"slideLeft()\">\r\n\t\t\t\t\t<div class=\"block\">Log In</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"tab tab2\">\r\n\t\t\t\t\t<div class=\"block\" (click)=\"slideRight()\">Register</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"indicator\"></div>\r\n\t\t\t</nav>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"main-content\">\r\n\t\t\t<div class=\"tab_reel\">\r\n\t\t\t\t<div class=\"tab_panel1\">\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\t#loginForm=\"ngForm\"\r\n\t\t\t\t\t\tclass=\"login-form\"\r\n\t\t\t\t\t\t(ngSubmit)=\"login()\"\r\n\t\t\t\t\t\tautocomplete=\"on\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"login-control-group\">\r\n\t\t\t\t\t\t\t<h5>Username</h5>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t#username=\"ngModel\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t[class.is-invalid]=\"\r\n\t\t\t\t\t\t\t\t\tusername.touched && username.errors\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t[(ngModel)]=\"model.username\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div class=\"error\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"username.touched && username.errors\"\r\n\t\t\t\t\t\t\t\t\t>Username is required</span\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"login-control-group password-div\">\r\n\t\t\t\t\t\t\t<h5>Password</h5>\r\n\t\t\t\t\t\t\t<div class=\"password-wrapper\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t[class.is-invalid]=\"\r\n\t\t\t\t\t\t\t\t\t\tpassword.touched && password.errors\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]=\"model.password\"\r\n\t\t\t\t\t\t\t\t\t#password=\"ngModel\"\r\n\t\t\t\t\t\t\t\t\t[type]=\"passType\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-lg password-icon\"\r\n\t\t\t\t\t\t\t\t\t[hidden]=\"!password.dirty\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"iconStatus\"\r\n\t\t\t\t\t\t\t\t\t(click)=\"toggle()\"\r\n\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"error\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"password.touched && password.errors\"\r\n\t\t\t\t\t\t\t\t\t>Password is required</span\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<a class=\"forgot-pwd\" href=\"\">Forgot Password?</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"loginValidationErrors?.length > 0\"\r\n\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\tfont-size: 0.9rem;\r\n\t\t\t\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span class=\"text-danger\"\r\n\t\t\t\t\t\t\t\t><i class=\"fa fa-info-circle\"></i> Invalid\r\n\t\t\t\t\t\t\t\tCredentials</span\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"button-group\">\r\n\t\t\t\t\t\t\t<div class=\"btn-wrapper\">\r\n\t\t\t\t\t\t\t\t<button id=\"login-btn\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\t<h4>Log In</h4>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div class=\"btn-wrapper\">\r\n\t\t\t\t\t\t\t\t<button id=\"fb-login\">\r\n\t\t\t\t\t\t\t\t\t<h5>Log in from Facebook</h5>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"btn-wrapper\">\r\n\t\t\t\t\t\t\t\t<button id=\"google-login\">\r\n\t\t\t\t\t\t\t\t\t<h5>Log in from Google</h5>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"tab_panel2\">\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\t[formGroup]=\"registerForm\"\r\n\t\t\t\t\t\tclass=\"register-form\"\r\n\t\t\t\t\t\t(ngSubmit)=\"registerForm.valid && register()\"\r\n\t\t\t\t\t\tautocomplete=\"on\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<app-text-input\r\n\t\t\t\t\t\t\t[formControl]=\"registerForm.controls['name']\"\r\n\t\t\t\t\t\t\t[label]=\"'Name'\"\r\n\t\t\t\t\t\t></app-text-input>\r\n\t\t\t\t\t\t<app-text-input\r\n\t\t\t\t\t\t\t[formControl]=\"registerForm.controls['username']\"\r\n\t\t\t\t\t\t\t[label]=\"'Username'\"\r\n\t\t\t\t\t\t></app-text-input\r\n\t\t\t\t\t\t><app-text-input\r\n\t\t\t\t\t\t\t[formControl]=\"registerForm.controls['email']\"\r\n\t\t\t\t\t\t\t[label]=\"'Email'\"\r\n\t\t\t\t\t\t></app-text-input>\r\n\r\n\t\t\t\t\t\t<div class=\"register-control-group reg-password-div\">\r\n\t\t\t\t\t\t\t<h5>Password</h5>\r\n\t\t\t\t\t\t\t<div class=\"password-wrapper\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t[class.is-invalid]=\"\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.get('password').errors &&\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.get('password').touched\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\tformControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t#regpassword\r\n\t\t\t\t\t\t\t\t\t[type]=\"passType\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"on\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"fa fa-lg password-icon\"\r\n\t\t\t\t\t\t\t\t\t[hidden]=\"\r\n\t\t\t\t\t\t\t\t\t\t!registerForm.controls['password'].dirty\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"iconStatus\"\r\n\t\t\t\t\t\t\t\t\t(click)=\"toggle()\"\r\n\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"error\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['password']\r\n\t\t\t\t\t\t\t\t\t\t\t.touched &&\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['password'].errors\r\n\t\t\t\t\t\t\t\t\t\t\t?.required\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>Password is required</span\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['password']\r\n\t\t\t\t\t\t\t\t\t\t\t.touched &&\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['password'].errors\r\n\t\t\t\t\t\t\t\t\t\t\t?.minlength\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t>Password must be atleast\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls[\"password\"].errors\r\n\t\t\t\t\t\t\t\t\t\t\t?.minlength[\"requiredLength\"]\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tcharacters\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<app-text-input\r\n\t\t\t\t\t\t\t\t[formControl]=\"\r\n\t\t\t\t\t\t\t\t\tregisterForm.controls['confirmpassword']\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t[label]=\"'Confirm Password'\"\r\n\t\t\t\t\t\t\t\t[type]=\"'password'\"\r\n\t\t\t\t\t\t\t></app-text-input>\r\n\t\t\t\t\t\t\t<div class=\"error\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['password']\r\n\t\t\t\t\t\t\t\t\t\t\t.touched &&\r\n\t\t\t\t\t\t\t\t\t\tregisterForm.controls['confirmpassword']\r\n\t\t\t\t\t\t\t\t\t\t\t.touched\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t*ngIf=\"\r\n\t\t\t\t\t\t\t\t\t\t\tregisterForm.controls[\r\n\t\t\t\t\t\t\t\t\t\t\t\t'confirmpassword'\r\n\t\t\t\t\t\t\t\t\t\t\t].errors?.isMatch\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t>Passwords do not match</span\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"button-group\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tid=\"register-btn\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!registerForm.valid\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<h4>Register</h4>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, Input, OnInit, EventEmitter, Output } from '@angular/core';\r\nimport { User } from 'src/app/_models/user';\r\nimport { Member } from '../../../_models/member';\r\nimport { MembersService } from '../../../_services/members.service';\r\nimport { RequestStatus } from '../../../_models/Friend';\r\nimport { PresenceService } from '../../../_services/presence.service';\r\n\r\n@Component({\r\n\tselector: 'app-user-cards',\r\n\ttemplateUrl: './user-cards.component.html',\r\n\tstyleUrls: ['./user-cards.component.css'],\r\n})\r\nexport class UserCardsComponent implements OnInit {\r\n\t@Input() member: Member;\r\n\t@Output() RequestStatusChanged = new EventEmitter(); // ------------If request updates dont emit anything, later add real time functionality for updates\r\n\tconstructor(\r\n\t\tprivate memberService: MembersService,\r\n\t\tpublic presence: PresenceService\r\n\t) {}\r\n\r\n\tngOnInit(): void {}\r\n\r\n\tToggleRequest() {\r\n\t\t// this.memberService.SendRequest(this.member.username).subscribe((x) => {\r\n\t\t// \tthis.sent = true;\r\n\t\t// });\r\n\t\tif (!(this.member.friendStatus == 0)) {\r\n\t\t\tthis.presence\r\n\t\t\t\t.SendRequest(this.member.username)\r\n\t\t\t\t.then(() => (this.member.friendStatus = 0));\r\n\t\t} else {\r\n\t\t\tthis.presence.CancelRequest(this.member.username).then((x) => {\r\n\t\t\t\tthis.member.friendStatus = 4;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tAcceptRequest() {\r\n\t\tthis.RequestStatusChanged.emit(this.member.username);\r\n\t}\r\n\tRejectRequest() {}\r\n\r\n\tgetFriendStatus() {\r\n\t\tif (this.member.friendStatus == 0) {\r\n\t\t\treturn 'sent';\r\n\t\t}\r\n\t\tif (this.member.friendStatus == 1) {\r\n\t\t\treturn 'received';\r\n\t\t}\r\n\t\tif (this.member.friendStatus == 2) {\r\n\t\t\treturn 'friend';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n}\r\n","<div class=\"user-card\" [class]=\"getFriendStatus()\">\r\n\t<div class=\"user-img\">\r\n\t\t<img\r\n\t\t\t[class.is-online]=\"\r\n\t\t\t\t(presence.onlineUsers$ | async).includes(member.username)\r\n\t\t\t\"\r\n\t\t\t[src]=\"\r\n\t\t\t\tmember.photoUrl ||\r\n\t\t\t\t(!member.photoUrl && member.gender == 'Female'\r\n\t\t\t\t\t? './assets/profilegirl.png'\r\n\t\t\t\t\t: './assets/profileboy.png')\r\n\t\t\t\"\r\n\t\t\talt=\"\"\r\n\t\t\trouterLink=\"/{{ member.username }}\"\r\n\t\t/>\r\n\t\t<div class=\"options\">\r\n\t\t\t<!-- <i class=\"fa fa fa-heart\"></i> -->\r\n\t\t\t<i\r\n\t\t\t\t*ngIf=\"member.friendStatus == 4 || member.friendStatus == 0\"\r\n\t\t\t\tclass=\"fa fa-2x fa-plus\"\r\n\t\t\t\t(click)=\"ToggleRequest()\"\r\n\t\t\t></i>\r\n\t\t</div>\r\n\t\t<div class=\"req-decision\" *ngIf=\"member.friendStatus == 1\">\r\n\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t<button class=\"btn btn-success\" (click)=\"AcceptRequest()\">\r\n\t\t\t\t\tAccept\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"btn btn-danger\" (click)=\"RejectRequest()\">\r\n\t\t\t\t\tReject\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"card-content\">\r\n\t\t<h6 class=\"user-name\">{{ member.username | titlecase }}</h6>\r\n\t</div>\r\n</div>\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}