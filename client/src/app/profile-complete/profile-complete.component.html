<div class="glass">
	<ngx-spinner> </ngx-spinner>
	<div class="profile-completion-dashboard">
		<div class="page-heading">Complete Your Profile</div>
		<div class="verify-contact">
			<form
				id="registerCompleteForm"
				[formGroup]="registerCompleteForm"
				#completeRegister
				class="complete-register-form"
				autocomplete="off"
				(ngSubmit)="SaveChanges()"
			>
				<div class="form-control-group gender">
					<div class="gender-wrapper">
						<label for="gender">GENDER</label>
						<div class="select animated zoomIn">
							<!-- You can toggle select (disabled) -->
							<input type="radio" name="gender" />
							<i class="toggle fa fa-2x fa-angle-down"></i>
							<i class="toggle fa fa-2x fa-angle-up"></i>
							<span class="placeholder">Choose...</span>
							<label
								*ngFor="let gender of genders"
								class="option"
							>
								<input
									type="radio"
									name="gender"
									[value]="gender"
									formControlName="gender"
								/>
								<span class="title animated fadeIn">
									{{ gender }}
								</span>
							</label>
						</div>
					</div>
				</div>
				<div class="form-control-group">
					<label for="">TWO-FACTOR AUTHENICATION</label>
					<p>
						Protect your account with an extra layer of security.
						Once configured, you'll be required to enter both your
						password and an authentication code from your mobile
						phone in order to sign in.
					</p>
					<button
						class="two-fa-btn enable"
						*ngIf="!member?.twoFactorEnabled"
						(click)="triggerModal(twofa)"
					>
						Enable Two-Factor Auth
					</button>
					<button
						class="two-fa-btn disable"
						*ngIf="member?.twoFactorEnabled"
					>
						Remove Two-Factor Auth
					</button>
					<ng-template #twofa let-modal>
						<div class="modal-header">
							<h4 class="modal-title" id="modal-basic-title">
								Enable Two-Factor Auth
							</h4>
							<button
								type="button"
								class="close text-danger"
								aria-label="Close"
								(click)="modal.dismiss('Cross click')"
							>
								<span aria-hidden="true">×</span>
							</button>
						</div>
						<div class="modal-body">
							<p>
								Download Authy App in your mobile and then enter
								the OTP.
							</p>
							<br />
							<input class="form-control w-100" />
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn text-danger btn-danger"
								(click)="modal.close('Save click')"
							>
								Close
							</button>
						</div>
					</ng-template>
				</div>
				<div class="form-control-group">
					<label for="">SMS BACKUP AUTHENICATION</label>
					<p>
						Add your phone as backup 2FA method in case you lose
						your authentication app.
					</p>
					<div class="phone-number">
						<input
							type="text"
							class="form-control"
							formControlName="phoneNumber"
						/>
					</div>
					<button class="sms-btn" (click)="triggerModal(smsauth)">
						Enable SMS Authentication
					</button>
					<ng-template #smsauth let-modal>
						<div class="modal-header">
							<h4 class="modal-title" id="modal-basic-title">
								Enable SMS Authentication
							</h4>
							<button
								type="button"
								class="close text-danger"
								aria-label="Close"
								(click)="modal.dismiss('Cross click')"
							>
								<span aria-hidden="true">×</span>
							</button>
						</div>
						<div class="modal-body">
							<p>Enter the OTP sent to your mobile phone.</p>
							<br />
							<input class="form-control w-100" />
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn text-danger btn-danger"
								(click)="modal.close('Save click')"
							>
								Close
							</button>
						</div>
					</ng-template>
				</div>
			</form>
		</div>
		<div class="profile-picture">
			<div class="form-control-group">
				<label for="profile-dp">PROFILE PICTURE</label>
				<div class="img-div">
					<div class="img-wrapper">
						<img
							[src]="
								croppedImage ||
								(registerCompleteForm.controls['gender']
									.value == 'Male'
									? './assets/profileboy.png'
									: './assets/profilegirl.png')
							"
							alt=""
						/>
					</div>
				</div>
				<div class="img-tools">
					<app-file-upload
						(img)="onImageChanged($event, photoEditor)"
					></app-file-upload>
					<button
						class="upload-btn remove"
						*ngIf="member?.photoUrl"
						(click)="removeImage()"
					>
						<i class="fa fa-lg fa-trash"></i>Delete Image
					</button>
					<ng-template #photoEditor let-modal>
						<ngx-spinner></ngx-spinner>
						<div class="modal-header">
							<h4 class="modal-title" id="modal-basic-title">
								Choose the part of the image you want as display
								picture
							</h4>
							<button
								type="button"
								class="close text-danger"
								aria-label="Close"
								(click)="modal.dismiss('Cross click')"
							>
								<span aria-hidden="true">×</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="cropper-wrapper">
								<image-cropper
									[imageChangedEvent]="imageChangedEvent"
									[maintainAspectRatio]="true"
									[aspectRatio]="1 / 1"
									[resizeToWidth]="512"
									format="jpg"
									(imageCropped)="imageCropped($event)"
									(imageLoaded)="imageLoaded($event)"
									(cropperReady)="cropperReady()"
									(loadImageFailed)="loadImageFailed()"
									[cropperMinHeight]="500"
									[roundCropper]="true"
								></image-cropper>
							</div>
						</div>
						<div class="modal-footer">
							<div class="save-btn-wrapper">
								<button
									class="save-img-btn"
									(click)="intializeUpload()"
								>
									<i class="fa fa-lg fa-save"></i>Save as
									Profile Picture
								</button>
							</div>
						</div>
					</ng-template>
				</div>
			</div>
			<div class="form-control-group" id="gallery-form">
				<div class="gallery">
					<label for="" class="font-weight-bold">Gallery</label>
					<div class="grandparent">
						<div class="gallery-row">
							<app-gallery-image
								*ngFor="
									let a of member?.photos
										| galleryImage
										| slice: 0:4
								"
								[photo]="a"
								(OldPhoto)="SetOldPhoto($event)"
							></app-gallery-image>
							<div class="gallery-link">
								<span>See more...</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="save-changes">
			<form [formGroup]="registerCompleteForm">
				<div class="form-control-group">
					<label for="status">Status</label>
					<div class="status-input">
						<textarea
							wrap="hard"
							maxlength="75"
							class="form-control"
							formControlName="status"
						>
						</textarea>
					</div>
				</div>
				<div class="form-control-group interest-form">
					<label for="interests">Interests</label>
					<div class="interest-div-wrapper">
						<div
							class="interest-wrapper"
							*ngIf="interestList"
							[style.padding]="
								interestList.length === 0 ? '0' : '0.75rem'
							"
						>
							<ul class="interest-list">
								<li
									*ngFor="
										let interest of interestList
											.slice()
											.reverse()
									"
									class="interest-item"
								>
									<div class="button">
										<span>{{ interest }}</span>
										<div
											class="icon"
											(click)="removeInterest(interest)"
										>
											<i class="fa fa-remove"></i>
											<i class="fa fa-check"></i>
										</div>
									</div>
								</li>
							</ul>
						</div>
						<div class="interest-input-section">
							<input
								[(ngModel)]="interest"
								class="interest-input"
								type="text"
								placeholder="ADD YOUR INTERESTS HERE"
								autocomplete="off"
								[ngModelOptions]="{ standalone: true }"
								(keyup.enter)="addInterest()"
								(keyup.space)="addInterest()"
							/>
							<div class="animated-button">
								<span
									class="icon-paper-plane"
									[ngClass]="interest ? 'next' : ''"
									><i class="fa fa-trophy"></i></span
								><span
									class="next-button add-up"
									(click)="addInterest()"
									><i class="fa fa-arrow-up"></i
								></span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-control-group save">
					<button form="registerCompleteForm" class="save-btn">
						<span class="submit">Save Changes</span>
					</button>
					<button class="delete-btn">
						<span class="submit">Proceed Anyways</span>
					</button>
				</div>
			</form>
		</div>
	</div>
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
		<path
			fill="#2288fa"
			fill-opacity="1"
			d="M0,256L80,234.7C160,213,320,171,480,170.7C640,171,800,213,960,240C1120,267,1280,277,1360,282.7L1440,288L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"
		></path>
	</svg>
</div>
<!-- {{ registerCompleteForm.value | json }} -->
